(this["webpackJsonpsenior-project"]=this["webpackJsonpsenior-project"]||[]).push([[0],{125:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(17),c=a(18),l=a(0),o=a.n(l),i=(a(226),function(e){Object(c.a)(l,e);var t=Object(s.a)(l);function l(){return Object(n.a)(this,l),t.apply(this,arguments)}return Object(r.a)(l,[{key:"render",value:function(){return o.a.createElement("div",{className:"about"},o.a.createElement("img",{className:"aboutUs",src:a(227),alt:"About Us"}),o.a.createElement("ul",null,o.a.createElement("li",null,"Luther students are able to connect with other Luther students and faculty"),o.a.createElement("li",null,"Will help with textbook trading, transportation, etc."),o.a.createElement("li",null,"User friendly"),o.a.createElement("li",null,"Come up with more")))}}]),l}(o.a.Component));t.a=i},181:function(e,t,a){"use strict";(function(e){var n=a(208),r=a(0),s=a.n(r),c=a(23),l=a(54),o=a(182),i=a(186),u=a(125),m=a(188),d=a(189),f=a(190),h=a(209),p=a(191),E=a(192),g=a(194),b=a(202),v=a(203),k=a(204),w=a(205),x=a(94),y=a(206),S=(a(361),function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""});e.customAuth={isAuthenticated:""!==S("email"),email:S("email"),authenticate:function(e,t){this.email=e;var a=new Date,n=864e5;t&&(n*=14),console.log(n),a.setTime(a.getTime()+n),document.cookie="email=".concat(this.email,"; expires=").concat(a.toUTCString(),"; path=/;")},signout:function(){var e=new Date;e.setTime(e.getTime()-864e5),document.cookie='email=""; expires='.concat(e.toUTCString(),"; path=/;"),window.location.href="/"}};var N=function(t){var a=t.component,r=Object(n.a)(t,["component"]);return s.a.createElement(c.b,Object.assign({},r,{render:function(t){return e.customAuth.isAuthenticated?s.a.createElement(a,t):s.a.createElement(c.a,{to:{pathname:"/signin",state:{from:t.location}}})}}))};t.a=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(l.a,null,s.a.createElement(o.a,null),s.a.createElement("div",{className:"element"},s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/",exact:!0,render:function(t){return e.customAuth.isAuthenticated?s.a.createElement(i.a,null):s.a.createElement(h.a,t)}}),s.a.createElement(c.b,{path:"/categories",component:m.a}),s.a.createElement(c.b,{path:"/about",component:u.a}),s.a.createElement(c.b,{path:"/textbooks"},s.a.createElement(g.a,{sectionTitle:"Textbooks",className:"listing"})),s.a.createElement(c.b,{path:"/about",component:u.a}),s.a.createElement(c.b,{path:"/lostandfound",component:w.a}),s.a.createElement(c.b,{path:"/listing",component:x.a}),s.a.createElement(c.b,{path:"/misc",component:b.a}),s.a.createElement(c.b,{path:"/skill",component:v.a}),s.a.createElement(c.b,{path:"/transport",component:k.a}),s.a.createElement(c.b,{path:"/signin",component:d.a}),s.a.createElement(c.b,{path:"/createaccount",component:f.a}),s.a.createElement(c.b,{path:"/forgotpassword",component:E.a}),s.a.createElement(c.b,{path:"/resetpassword/:email/:token",component:y.a}),s.a.createElement(N,{path:"/profile",component:p.a})))),s.a.createElement("p",{className:"footerMessage"},"Candid Cheetah Co. \xa92019-2020"))}}).call(this,a(22))},182:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),s=a(100),c=a(21),l=a(9),o=a(16),i=a(20);a(218);t.a=function(){return r.a.createElement(s.a,{className:"App-navBar",expand:"lg",sticky:"top"},r.a.createElement(c.a,null,r.a.createElement(l.a,{xs:4,sm:4,md:2,lg:2,xl:2},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:a(221),className:"logo",alt:"CampusShare Logo"}))),r.a.createElement(l.a,{xs:0,sm:0,md:2,lg:2,xl:2},r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"floatRight"})),r.a.createElement(l.a,{xs:12,sm:12,md:8,lg:8,xl:8},r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},e.customAuth.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(o.a,{className:"mr-auto"},r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{href:"/"},"Home")),r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{href:"/categories"},"Categories"))),r.a.createElement(o.a,{className:"justify-content-end"},r.a.createElement(o.a.Item,null,r.a.createElement(s.a.Text,null,"Signed in as: ",r.a.createElement("a",{href:"/profile"},e.customAuth.email))),r.a.createElement(o.a.Item,null,r.a.createElement(i.a,{variant:"outline-secondary",size:"sm",className:"btn-signOut",onClick:e.customAuth.signout},"Sign Out")))):r.a.createElement(n.Fragment,null,r.a.createElement(o.a,{className:"mr-auto"},r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{href:"/"},"Home")),r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{href:"/about"},"About")),r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{disabled:!0},"How does it work")),r.a.createElement(o.a.Item,null,r.a.createElement(o.a.Link,{href:"/categories"},"Categories"))),r.a.createElement(o.a,{className:"justify-content-end"},r.a.createElement("a",{href:"/signin"},r.a.createElement(i.a,{variant:"success",size:"sm",className:"btn-signIn"},"Sign In"))))))))}}).call(this,a(22))},186:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(9),h=a(70),p=a(20),E=(a(224),"http://campus-share-backend.us-east-2.elasticbeanstalk.com"),g=function(t){Object(u.a)(g,t);var n=Object(i.a)(g);function g(t){var a;return Object(c.a)(this,g),(a=n.call(this,t)).componentDidMount=function(){a.fetchNotifications()},a.fetchNotifications=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE requester_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({requests:e.data})}));case 2:return t.next=4,fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE offerer_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({offers:e.data})}));case 4:case"end":return t.stop()}}),t)}))),a.sendMessage=function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'UPDATE Notifications SET status = "'.concat(n,'" WHERE notification_id = "').concat(t,'"')})}).catch((function(e){console.error(e)}));case 2:a.fetchNotifications();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.dismissNotification=function(){},a.state={showModal:!1,requests:[],offers:[]},a.fetchNotifications=a.fetchNotifications.bind(Object(o.a)(a)),a.dismissNotification=a.dismissNotification.bind(Object(o.a)(a)),a}return Object(l.a)(g,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"Home"},d.a.createElement("div",{className:"clearfix"},d.a.createElement("img",{className:"bell2",src:a(225),alt:"Luther Bell"}),d.a.createElement("h1",{className:"heading1"},"Home"),d.a.createElement("h3",{className:"heading3"},"See updates here")),d.a.createElement("p",null,"Notifications"),d.a.createElement("div",{className:"notifyCard"},d.a.createElement("div",{className:"notifyBorder"},d.a.createElement(f.a,{className:"notifyCol"},d.a.createElement(m.Fragment,null,this.state.requests&&this.state.requests.map((function(t){return d.a.createElement(h.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},d.a.createElement(h.a.Header,null,d.a.createElement("strong",{className:"mr-auto"},"Request"),d.a.createElement("small",null,"from ",t.offerer_email)),d.a.createElement(h.a.Body,null,d.a.createElement("p",null,"This request is ",t.status,".")))}))),this.state.offers&&this.state.offers.map((function(t){return d.a.createElement(h.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},d.a.createElement(h.a.Header,null,d.a.createElement("strong",{className:"mr-auto"},"Offer"),d.a.createElement("small",null,"from ",t.requester_email)),d.a.createElement(h.a.Body,null,"pending"===t.status?d.a.createElement(m.Fragment,null,d.a.createElement("p",null,"Please approve or decline this request:"),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"accepted")}},"Approve"),d.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"declined")}},"Decline")):d.a.createElement("p",null,"You have ",t.status," this request.")))}))))))}}]),g}(d.a.Component);t.a=g}).call(this,a(22))},188:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(17),c=a(18),l=a(0),o=a.n(l),i=a(363),u=a(21),m=a(9),d=a(16),f=a(33),h=(a(228),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(i.a,null,o.a.createElement(u.a,{className:"row"},o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"https://www.luther.edu/",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/clothing.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Clothing")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/events.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Events")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/food.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Food")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/housing.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Housing")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{href:"/lostandfound",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/lostfound.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Lost & Found")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"https://www.xkcd.com/",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/meme.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Meme")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/mentor.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Mentorship")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{href:"/misc",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/umbrella.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Misc.")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/opportunities.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Opportunities")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/projects.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Projects")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{href:"skill",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/skills.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Skills")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{disabled:!0,href:"categories",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/social.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Social")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{href:"textbooks",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/textbooks.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Textbooks")))),o.a.createElement(m.a,{xs:4,sm:3,md:3,lg:2,xl:3},o.a.createElement(d.a.Link,{href:"transport",className:"nounderline"},o.a.createElement("figure",{className:"categoryFigure"},o.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/transportation.png",className:"categoryImg"}),o.a.createElement("figcaption",{className:"categoryFigcaption"},"Transportation"))))))}}]),a}(o.a.Component));t.a=h},189:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(9),h=a(6),p=a(21),E=a(11),g=a(20),b=(a(229),a(81)),v=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).verifyLogin=function(){var t=Object(s.a)(r.a.mark((function t(a){var n,s,c,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n="".concat(l.refs.email.value,"@luther.edu"),s=l.refs.password.value,c=l.refs.staySignedIn.checked,t.next=6,fetch("".concat(e.selectAPI,"table=Users&field=password&condition=email='").concat(n,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json().then((function(e){return o=e}))}));case 6:o.length>0?(i=o[0].password,b.compare(s,i,(function(t,a){a&&(e.customAuth.authenticate(n,c),window.location.href="/")})),setTimeout((function(){l.setState({errMsg:"Incorrect Password"})}),250)):l.setState({errMsg:"No account exists with that email."});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.state={errMsg:""},l.verifyLogin=l.verifyLogin.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){e.customAuth.isAuthenticated&&(window.location.href="/")}},{key:"render",value:function(){return d.a.createElement("div",{className:"row justify-content-center"},d.a.createElement(f.a,{sm:12,md:8,lg:6},d.a.createElement(h.a,{onSubmit:this.verifyLogin},d.a.createElement(h.a.Group,{as:p.a,controlId:"validationUsername"},d.a.createElement(h.a.Label,{column:!0,sm:2},"Email"),d.a.createElement(f.a,{sm:10,md:10,lg:10},d.a.createElement(E.a,null,d.a.createElement(h.a.Control,{type:"text",ref:"email",placeholder:"norsekey",required:!0}),d.a.createElement(E.a.Append,null,d.a.createElement(E.a.Text,{id:"inputGroupAppend"},"@luther.edu")),d.a.createElement(h.a.Control.Feedback,{type:"invalid"},"Please use your valid luther.edu email.")))),d.a.createElement(h.a.Group,{as:p.a,controlId:"validationPassword"},d.a.createElement(h.a.Label,{column:!0,sm:2},"Password"),d.a.createElement(f.a,{sm:10,md:10,lg:10},d.a.createElement(h.a.Control,{type:"password",ref:"password",placeholder:"Password"}))),d.a.createElement("p",null,this.state.errMsg),d.a.createElement(h.a.Group,{as:p.a},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement("a",{className:"tinytext",href:"/forgotpassword"},"Reset Password"))),d.a.createElement(h.a.Group,{as:p.a,controlId:"staySignedIn"},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement(h.a.Check,{type:"switch",ref:"staySignedIn",label:"Sign in for 2 weeks"}))),d.a.createElement(h.a.Group,{as:p.a},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement(g.a,{variant:"primary",type:"submit"},"Sign In"))))))}}]),n}(d.a.Component);t.a=v}).call(this,a(22))},190:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(17),i=a(18),u=a(0),m=a.n(u),d=a(9),f=a(6),h=a(21),p=a(11),E=a(20),g=a(81),b=function(t){Object(i.a)(n,t);var a=Object(o.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).verifyEmail=Object(s.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(l.refs.email.value,"@luther.edu"),n="".concat(l.refs.password.value),t.next=4,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(a,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({validEmail:0===e.length})})).catch((function(e){return console.log(e)}));case 4:l.state.validEmail?l.savePassword(a,n):l.setState({errMsg:"An account with this email already exists. Please sign in."});case 5:case"end":return t.stop()}}),t)}))),l.savePassword=function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==n?(g.hash(n,10,(function(t,n){fetch("".concat(e.insertAPI,"table=Users&field=email,password&value='").concat(a,"','").concat(n,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),l.setState({accountCreated:!0})):l.setState({errMsg:"Please provide a valid password"});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),l.state={accountCreated:!1,errMsg:null,validEmail:!0},l}return Object(l.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement(d.a,{sm:12,md:10,lg:8},m.a.createElement(f.a,null,m.a.createElement("h3",null,"Welcome to Campus Share!"),m.a.createElement(f.a.Group,{as:h.a},m.a.createElement(f.a.Label,{column:!0,sm:2},"Email"),m.a.createElement(d.a,{sm:10,md:10,lg:10},m.a.createElement(p.a,null,m.a.createElement(f.a.Control,{type:"text",ref:"email",placeholder:"norsekey",required:!0}),m.a.createElement(p.a.Append,null,m.a.createElement(p.a.Text,{id:"inputGroupAppend"},"@luther.edu"))))),m.a.createElement(f.a.Group,{as:h.a,controlId:"password"},m.a.createElement(f.a.Label,{column:!0,sm:2},"Password"),m.a.createElement(d.a,{sm:10,md:10,lg:10},m.a.createElement(f.a.Control,{type:"password",ref:"password",placeholder:"Password"}))),m.a.createElement("p",null,this.state.errMsg),this.state.accountCreated&&m.a.createElement("p",null,"Account created! Please login here: ",m.a.createElement("a",{href:"/signin"},"Sign In")),m.a.createElement(f.a.Group,{as:h.a},m.a.createElement(d.a,{sm:{span:10,offset:2}},m.a.createElement(E.a,{variant:"primary",onClick:this.verifyEmail},"Create Account"))))))}}]),n}(m.a.Component);t.a=b}).call(this,a(22))},191:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(17),i=a(18),u=a(0),m=a.n(u),d=a(9),f=a(6),h=a(20),p=(a(310),a(81)),E=function(t){Object(i.a)(n,t);var a=Object(o.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).changePassword=Object(s.a)(r.a.mark((function t(){var a,n,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.refs.newPassword.value,n=l.refs.verifyPassword.value,!a){t.next=19;break}if(!n){t.next=16;break}if(a!==n){t.next=13;break}return l.state.errMsg&&l.setState({errMsg:null}),s=p.hashSync(a,10),console.log(s),c="".concat(e.updateAPI,"table=Users&field=password&value='").concat(s,"'&condition=email='").concat(e.customAuth.email,"'"),t.next=11,fetch(c,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({reset:!0})})).catch((function(e){return l.setState({errMsg:e.message})}));case 11:t.next=14;break;case 13:l.setState({errMsg:"Passwords do not match."});case 14:t.next=17;break;case 16:l.setState({errMsg:"Please retype your password."});case 17:t.next=20;break;case 19:l.setState({errMsg:"Please enter a password."});case 20:case"end":return t.stop()}}),t)}))),l.state={errMsg:null,reset:!1},l}return Object(l.a)(n,[{key:"render",value:function(){return m.a.createElement(u.Fragment,null,m.a.createElement("h1",null,"Profile Page"),m.a.createElement(d.a,{xs:12,s:12,m:8,lg:6,xl:6},m.a.createElement(f.a,null,m.a.createElement(f.a.Group,null,m.a.createElement(f.a.Control,{type:"text",readOnly:!0,value:"Change Password"})),m.a.createElement(f.a.Group,null,m.a.createElement(f.a.Label,null,"New Password"),m.a.createElement(f.a.Control,{required:!0,type:"password",ref:"newPassword",placeholder:"Password"})),m.a.createElement(f.a.Group,null,m.a.createElement(f.a.Label,null,"Retype Password"),m.a.createElement(f.a.Control,{required:!0,type:"password",ref:"verifyPassword",placeholder:"Retype Password"})),this.state.reset&&m.a.createElement("p",null,"Password Reset! Please sign in: ",m.a.createElement("a",{href:"/signin"},"Log in")),m.a.createElement("p",null,this.state.errMsg),m.a.createElement(h.a,{onClick:this.changePassword},"Change"))))}}]),n}(m.a.Component);t.a=E}).call(this,a(22))},192:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(17),i=a(18),u=a(0),m=a.n(u),d=a(6),f=a(21),h=a(9),p=a(11),E=a(20),g=a(193),b=a.n(g);a(313);a(314).config();var v=a(173),k=function(t){Object(i.a)(n,t);var a=Object(o.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).confirmAccountExists=Object(s.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(a=l.state.userEmail)){t.next=5;break}l.setState({userErrorMsg:"Norsekey is missing."}),t.next=10;break;case 5:return l.state.userErrorMsg&&l.setState({userErrorMsg:""}),n="".concat(a,"@luther.edu"),t.next=9,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(n,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({accountExists:e.length>0,hashedPassword:e[0].password})})).catch((function(e){return l.setState({serverErrorMsg:e.message})}));case 9:l.state.accountExists&&l.sendEmail(n);case 10:case"end":return t.stop()}}),t)}))),l.sendEmail=function(){var t=Object(s.a)(r.a.mark((function t(a){var n,s,c,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.state.accountExists){t.next=11;break}return n={userEmail:a},s=new Date,c="".concat(l.state.hashedPassword,"-").concat(s.getTime()),t.next=6,fetch("".concat(e.insertAPI,"table=Users&field=resetPasswordSecret&value='").concat(c,"'")).catch((function(e){return l.setState({serverErrorMsg:e.text})}));case 6:o=v.encode(n,c),i={recipient:a,password_reset_link:"".concat(e.thisURL,"/resetpassword/").concat(n.userEmail,"/").concat(o),password_recovery:"".concat(e.thisURL,"/recoverpassword")},b.a.send("gmail","password_recovery",i,"'".concat("user_tKy4SXYTGu1s5eJEaRgjT","'")).then((function(e){l.setState({emailSent:!0,userErrorMsg:"",serverErrorMsg:""})}),(function(e){l.setState({serverErrorMsg:e.text})})),t.next=12;break;case 11:l.setState({userErrorMsg:"No account exists with that email.",emailSent:!1});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.state={accountExists:!1,emailSent:!1,hashedPassword:"",serverErrorMsg:"",userEmail:"",userErrorMsg:""},l}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({userEmail:e.target.value.toLowerCase()})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("p",null,"Please enter your email to reset your password."),m.a.createElement(d.a,null,m.a.createElement(d.a.Group,{as:f.a},m.a.createElement(d.a.Label,{column:!0,xs:12,sm:12,md:1,lg:1,xl:1},"Email"),m.a.createElement(h.a,{sm:6,md:6,lg:6},m.a.createElement(p.a,null,m.a.createElement(d.a.Control,{type:"text",ref:"email",value:this.state.userEmail,onChange:this.handleChange,placeholder:"norsekey",required:!0}),m.a.createElement(p.a.Append,null,m.a.createElement(p.a.Text,{id:"inputGroupAppend"},"@luther.edu"))),this.state.userErrorMsg&&m.a.createElement(p.a,null,m.a.createElement(d.a.Control,{type:"text",className:"errorMsg",readOnly:!0,defaultValue:this.state.userErrorMsg})),this.state.serverErrorMsg&&m.a.createElement("div",{className:"errorMsg"},m.a.createElement("p",null,"Uff da! We've encountered the following error:"),m.a.createElement("p",null,this.state.serverErrorMsg),m.a.createElement("p",null,"Contact tech support here: ",m.a.createElement("a",{href:"mailto:hoffka04@luther.edu?Subject=Your%20App%20Is%20Busted",target:"_top"},"hoffka04@luther.edu"))),this.state.emailSent&&m.a.createElement(p.a,null,m.a.createElement(d.a.Control,{type:"text",className:"successMsg",readOnly:!0,defaultValue:"Recovery email sent! Check your inbox for a link to reset your password."})))),m.a.createElement(E.a,{variant:"primary",onClick:this.confirmAccountExists},"Send Recovery Email")))}}]),n}(m.a.Component);t.a=k}).call(this,a(22))},194:function(e,t,a){"use strict";(function(e){var n=a(195),r=a(5),s=a.n(r),c=a(8),l=a(12),o=a(13),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(21),h=a(20),p=a(69),E=a(30),g=a(6),b=a(210),v=a(9),k=a(24),w=a(66),x=a.n(w),y=(a(88),{bucketName:"campus-share-files",dirName:"Textbooks",region:"us-east-2",accessKeyId:"AKIA4X46LKGOC2PUQVBZ",secretAccessKey:"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"}),S=function(t){Object(u.a)(r,t);var a=Object(i.a)(r);function r(t){var o;return Object(l.a)(this,r),(o=a.call(this,t)).componentDidMount=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchBooks();case 2:case"end":return e.stop()}}),e)}))),o.deleteBook=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.deleteAPI,"table=Textbooks&condition=book_id=").concat(a),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:o.fetchBooks();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.fetchBooks=Object(c.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="".concat(e.selectAPI,"table=Textbooks&field=*"),fetch(a,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return o.setState({items:e})})).catch((function(e){return alert(e)}));case 2:case"end":return t.stop()}}),t)}))),o.fetchVolumeInfo=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=o.refs.title.value)){e.next=6;break}return e.next=4,fetch("".concat("https://www.googleapis.com/books/v1/volumes","?q=").concat(t,"&key=").concat("AIzaSyB5xY_lIKmpdwTI50kPz-UYiBDmyiSoc5M")).then((function(e){return e.json()})).then((function(e){return o.setState({bookOptions:e.items})})).then(o.setState({gbMsg:"Please select a title below."}));case 4:e.next=7;break;case 6:o.setState({gbMsg:"Please enter a title before searching Google Books."});case 7:case"end":return e.stop()}}),e)}))),o.handleImageUpload=function(e){e.target.files.length>0&&o.setState({file:e.target.files[0],fileLocalLocation:URL.createObjectURL(e.target.files[0])})},o.handleModalClose=function(){o.setState({showModal:!1,dataSent:!1,file:null,errMsg:null,fileLocalLocation:null,fileS3URL:null,fileURL:null,gbMsg:null,bookOptions:null,uploadImage:!1})},o.handleModalShow=function(){o.setState({showModal:!0})},o.handleSubmit=function(){var t=Object(c.a)(s.a.mark((function t(a){var n,r,c,l,i,u,m,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.refs.title.value.replace("'",""),r=o.refs.author.value.replace("'",""),c=o.refs.isbn.value.replace("'",""),l=o.refs.loan_start.value,i=o.refs.loan_end.value,u=o.refs.course.value.replace("'",""),n){t.next=10;break}o.setState({errMsg:"Please provide a title for this book"}),t.next=48;break;case 10:if(r){t.next=14;break}o.setState({errMsg:"Please provide an author for this book"}),t.next=48;break;case 14:if(c){t.next=18;break}o.setState({errMsg:"Please provide an ISBN number for this book (check copyright page)"}),t.next=48;break;case 18:if(l){t.next=22;break}o.setState({errMsg:"Please provide a loan start for this book"}),t.next=48;break;case 22:if(!(i&&i<l)){t.next=26;break}o.setState({errMsg:"Please provide a valid loan end (currently set to before start)"}),t.next=48;break;case 26:if(u){t.next=30;break}o.setState({errMsg:"Please provide a course name for this book"}),t.next=48;break;case 30:if(!o.state.uploadImage||o.state.fileLocalLocation){t.next=34;break}o.setState({errMsg:"Please upload an image of your book or autopopulate with Google Books"}),t.next=48;break;case 34:if(o.setState({dataSent:!0}),o.setState({errMsg:null}),!o.state.file){t.next=42;break}return t.next=39,o.uploadToS3();case 39:m=o.state.fileS3URL,t.next=43;break;case 42:m=o.state.fileURL;case 43:return d="".concat(e.insertAPI,"table=Textbooks&field=book_title,book_author,book_isbn,loan_start,loan_end,course,owner,book_image&value='").concat(n,"','").concat(r,"','").concat(c,"','").concat(l,"','").concat(i,"','").concat(u,"','").concat(e.customAuth.email,"','").concat(m.replace(/&/g,"AMPERSAND"),"'"),console.log(d),t.next=47,fetch(d,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return o.setState({errMsg:e.message})}));case 47:o.state.errMsg||(o.handleModalClose(),o.fetchBooks());case 48:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.populateFromGB=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,c,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.refs.title.value=t.volumeInfo.title,o.refs.author.value=t.volumeInfo.authors.join(", "),a=null,r=Object(n.a)(t.volumeInfo.industryIdentifiers);try{for(r.s();!(c=r.n()).done;)"ISBN_13"===(l=c.value).type&&(a=l.identifier)}catch(s){r.e(s)}finally{r.f()}o.refs.isbn.value=a||"XXX-X-XXX-XXXXX-X",i=t.volumeInfo.imageLinks.thumbnail,o.setState({fileURL:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.sendRequest=function(){var t=Object(c.a)(s.a.mark((function t(a,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a===e.customAuth.email){t.next=8;break}return t.next=3,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id, source_table) VALUES ("'.concat(e.customAuth.email,'", "').concat(a,'", "').concat(n,'", "Textbooks");')})});case 3:200!==(r=t.sent).status?alert("Uff da! Something went wrong, please try again."):alert("Request successfully sent!"),console.log(r),t.next=9;break;case 8:alert("You are the owner of this title. Please look for another title.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),o.uploadToS3=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.uploadFile(o.state.file,y).then((function(e){return o.setState({fileS3URL:e.location})})).catch((function(e){return o.setState({errMsg:e.message})}));case 2:case"end":return e.stop()}}),e)}))),o.state={dataSent:!1,fileLocalLocation:"",fileS3URL:"",items:[],showModal:!1,uploadImage:!1},o}return Object(o.a)(r,[{key:"render",value:function(){var t=this,a=d.a.createElement(f.a,null,d.a.createElement("h1",{className:"categoryName"},this.props.sectionTitle),e.customAuth.isAuthenticated&&d.a.createElement(h.a,{onClick:this.handleModalShow},"Add Listing")),n=d.a.createElement(m.Fragment,null,"\xa0",d.a.createElement(p.a,{animation:"border",size:"md"}),"\xa0Loading..."),r=d.a.createElement(k.c,null,d.a.createElement(f.a,{className:"mdbpopoverDiv"},this.state.items.map((function(a){return d.a.createElement(k.e,{placement:"bottom",popover:!0,clickable:!0,key:a.book_id,className:"mdbpopover"},d.a.createElement(k.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("img",{className:"listingImg",src:a.book_image.replace(/AMPERSAND/g,"&")||"https://cdn0.iconfinder.com/data/icons/reading-5/384/Generic_book_file_type-512.png",alt:"Thumbnail"}),d.a.createElement("figcaption",null,a.book_title))),d.a.createElement("div",null,d.a.createElement(k.g,null,a.book_title),d.a.createElement(k.f,null,d.a.createElement("p",{style:{display:"none"},ref:"bookID"},a.book_id),d.a.createElement("p",{className:"p"},a.book_author),d.a.createElement("p",{className:"p"},a.course),d.a.createElement("p",{className:"p"},a.loanPeriod),""!==e.customAuth.email&&(a.owner!==e.customAuth.email?d.a.createElement(m.Fragment,null,d.a.createElement("p",{className:"p",ref:"owner"},a.owner),d.a.createElement(h.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.book_id)}},"Request")):d.a.createElement(h.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteBook(a.book_id)}},"Delete")))))})))),s=d.a.createElement(E.a,{size:"xl",show:this.state.showModal,onHide:this.handleModalClose},d.a.createElement(E.a.Header,{closeButton:!0},d.a.createElement(E.a.Title,null,"Add a listing to ",this.props.sectionTitle)),d.a.createElement(E.a.Body,null,d.a.createElement(g.a,null,d.a.createElement(g.a.Label,null,"Title"),d.a.createElement(g.a.Control,{type:"text",ref:"title",placeholder:"Enter Title Here"}),d.a.createElement(h.a,{variant:"outline-secondary",onClick:this.fetchVolumeInfo},"Autopopulate with Google Books"),d.a.createElement("p",null,this.state.gbMsg),this.state.bookOptions&&d.a.createElement(g.a.Group,{controlId:"titleSelect"},d.a.createElement(g.a.Label,null,"Select title"),d.a.createElement(b.a,{horizontal:!0,className:"horizontalScroll"},null!==this.state.bookOptions&&this.state.bookOptions.map((function(e){return d.a.createElement(b.a.Item,{action:!0,onClick:function(a){a.preventDefault(),t.populateFromGB(e)},id:e.id,key:e.id},d.a.createElement("div",null,d.a.createElement("p",null,e.volumeInfo.title||"Title Not Listed"),d.a.createElement("p",null,e.volumeInfo.subtitle||""),e.volumeInfo.imageLinks?d.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.id}):d.a.createElement("img",{src:"https://cdn0.iconfinder.com/data/icons/reading-5/384/Generic_book_file_type-512.png",className:"uploadPreview",alt:e.id}),e.volumeInfo.authors?d.a.createElement("p",null,e.volumeInfo.authors.join(", ")):d.a.createElement("p",null,"Author Not Listed"),d.a.createElement("p",null,"\xa9",e.volumeInfo.publishedDate||"Publishing Date Not Listed")))})))),d.a.createElement(f.a,null,d.a.createElement(v.a,null,d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"Author"),d.a.createElement(g.a.Control,{type:"text",ref:"author"})),d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"ISBN"),d.a.createElement(g.a.Control,{type:"text",ref:"isbn",placeholder:"XXX-X-XXX-XXXXX-X"})),this.state.uploadImage?d.a.createElement(m.Fragment,null,d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"Image"),d.a.createElement(g.a.Control,{type:"file",required:!1,onChange:this.handleImageUpload,accept:"image/gif, image/jpeg, image/png"}),null!==this.state.fileLocalLocation&&d.a.createElement("img",{src:this.state.fileLocalLocation,alt:"",className:"uploadPreview"})),d.a.createElement(h.a,{onClick:function(){t.setState({uploadImage:!1,file:null,fileLocalLocation:null})}},"Cancel")):d.a.createElement(h.a,{onClick:function(){t.setState({uploadImage:!0})}},"Upload Custom Image")),d.a.createElement(v.a,null,d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"Loan Start"),d.a.createElement(g.a.Control,{type:"date",ref:"loan_start"})),d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"Loan End (Optional)"),d.a.createElement(g.a.Control,{type:"date",ref:"loan_end"})),d.a.createElement(g.a.Group,null,d.a.createElement(g.a.Label,null,"Course"),d.a.createElement(g.a.Control,{type:"text",ref:"course"})))),d.a.createElement("p",null,this.state.errMsg),this.state.dataSent?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,null),d.a.createElement("p",null,"Adding Listing...")):d.a.createElement(h.a,{variant:"success",onClick:this.handleSubmit},"Submit"))));return d.a.createElement(m.Fragment,null,a,d.a.createElement("p",{className:"categoryDesc"},"Care to share or borrow a book?"),d.a.createElement(f.a,null,"undefined"===typeof this.state.items?n:r),s)}}]),r}(d.a.Component);t.a=S}).call(this,a(22))},202:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(21),h=a(9),p=a(20),E=a(69),g=a(30),b=a(11),v=a(6),k=a(24),w=a(66),x=a.n(w),y=(a(88),{bucketName:"campus-share-files",dirName:"Misc",region:"us-east-2",accessKeyId:"AKIA4X46LKGOC2PUQVBZ",secretAccessKey:"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"}),S=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).deleteItem=function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.deleteAPI,"table=Misc&condition=item_id=").concat(a),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:l.fetchItems();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.fetchItems=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Misc&field=*"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({items:e})}));case 2:case"end":return t.stop()}}),t)}))),l.handleImageUpload=function(e){e.target.files.length>0&&l.setState({file:e.target.files[0],fileURL:URL.createObjectURL(e.target.files[0])})},l.handleModalClose=function(){l.setState({showModal:!1,file:null})},l.handleModalShow=function(){l.setState({showModal:!0})},l.handleSubmit=Object(s.a)(r.a.mark((function e(){var t,a,n,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.refs.item_name.value,a=l.refs.item_desc.value,n=l.state.fileURL,s=l.refs.loan_start.value,c=l.refs.loan_end.value,t){e.next=9;break}l.setState({errMsg:"Please provide a name for this item"}),e.next=33;break;case 9:if(a){e.next=13;break}l.setState({errMsg:"Please provide a description for this item"}),e.next=33;break;case 13:if(n){e.next=17;break}l.setState({errMsg:"Please provide an image for this item"}),e.next=33;break;case 17:if(s){e.next=21;break}l.setState({errMsg:"Please provide a loan start for this item"}),e.next=33;break;case 21:if(!(c&&c<s)){e.next=25;break}l.setState({errMsg:"Please provide a valid loan end (currently set to before start)"}),e.next=33;break;case 25:return l.setState({errMsg:null}),e.next=28,l.uploadToS3();case 28:if(l.state.errMsg){e.next=33;break}return e.next=31,l.saveToDB(t,a,l.state.fileLocation,s,c);case 31:l.fetchItems(),l.handleModalClose();case 33:case"end":return e.stop()}}),e)}))),l.saveToDB=function(){var t=Object(s.a)(r.a.mark((function t(a,n,s,c,l){var o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(e.insertAPI,"table=Misc&field=item_name,item_desc,item_img,loan_start,loan_end,owner&value='").concat(a,"','").concat(n,"','").concat(s,"','").concat(c,"','").concat(l,"','").concat(e.customAuth.email,"'"),t.next=3,fetch(o,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s){return t.apply(this,arguments)}}(),l.uploadToS3=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.uploadFile(l.state.file,y).then((function(e){return l.setState({fileLocation:e.location})})).catch((function(e){return l.setState({errMsg:e})}));case 2:case"end":return e.stop()}}),e)}))),l.state={errMsg:null,file:null,fileLocation:null,fileURL:null,items:null,showModal:!1},l.fetchItems=l.fetchItems.bind(Object(o.a)(l)),l.handleModalClose=l.handleModalClose.bind(Object(o.a)(l)),l.handleModalShow=l.handleModalShow.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"render",value:function(){var t=this;return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement(h.a,{xs:8,sm:8,md:10,lg:10,xl:10},d.a.createElement("h1",{className:"categoryName"},"Misc")),d.a.createElement(h.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing"))),d.a.createElement("p",{className:"categoryDesc"},"mi-s\u0259-\u02c8l\u0101-n\u0113-\u0259s: consisting of many things of different sorts"),this.state.items?d.a.createElement(m.Fragment,null,0===this.state.items.length?d.a.createElement("p",null,"No items to display!"):d.a.createElement(m.Fragment,null,this.state.items.map((function(a){return d.a.createElement(k.e,{placement:"bottom",popover:!0,clickable:!0,key:a.item_id,className:"mdbpopover"},d.a.createElement(k.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("img",{className:"listingImg",src:a.item_img||"https://cdn1.iconfinder.com/data/icons/image-manipulations/100/13-512.png",alt:a.item_name}),d.a.createElement("figcaption",null,a.item_name))),d.a.createElement("div",null,d.a.createElement(k.g,null,a.item_name),d.a.createElement(k.f,null,d.a.createElement("p",{style:{display:"none"},ref:"itemID"},a.item_id),d.a.createElement("p",{className:"p"},a.item_desc),d.a.createElement("p",{className:"p"},a.loan_period),""!==e.customAuth.email&&d.a.createElement(m.Fragment,null,a.owner===e.customAuth.email?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteItem(a.item_id)}},"Delete")):d.a.createElement(m.Fragment,null,d.a.createElement("p",{className:"p",ref:"owner"},a.owner),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.item_id)}},"Request"))))))})))):d.a.createElement(f.a,null,d.a.createElement(E.a,{animation:"grow",size:"sm"}),d.a.createElement("p",null,"Loading...")),d.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},d.a.createElement(g.a.Header,{closeButton:!0},d.a.createElement(g.a.Title,null,"Add a new listing to the ",this.props.categoryName," Category")),d.a.createElement(g.a.Body,null,d.a.createElement(h.a,null,d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Item Name")),d.a.createElement(v.a.Control,{type:"text",ref:"item_name",placeholder:"Enter Name Here"})),d.a.createElement(v.a.Group,{as:f.a},d.a.createElement(v.a.Label,{column:!0,sm:3},"Description:"),d.a.createElement(h.a,{sm:9},d.a.createElement(v.a.Control,{as:"textarea",rows:"3",ref:"item_desc",placeholder:"Please describe your item here"})))),d.a.createElement(h.a,null,d.a.createElement("p",null,"Image Upload"),d.a.createElement("input",{type:"file",onChange:this.handleImageUpload,accept:"image/gif, image/jpeg, image/png"}),null!==this.state.fileURL&&d.a.createElement("img",{src:this.state.fileURL,alt:"",className:"uploadPreview"}),d.a.createElement("p",null,"Loan Period (Loan Start Required)"),d.a.createElement("input",{type:"date",ref:"loan_start"}),d.a.createElement("input",{type:"date",ref:"loan_end"})),d.a.createElement("p",null,this.state.errMsg),d.a.createElement(f.a,{className:"bottomRow"},d.a.createElement(h.a,{xs:12,sm:12,md:3,lg:3,xl:3},d.a.createElement(p.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))))}}]),n}(d.a.Component);t.a=S}).call(this,a(22))},203:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(21),h=a(9),p=a(20),E=a(69),g=a(30),b=a(11),v=a(6),k=a(24),w=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).deleteItem=function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.deleteAPI,"table=Skill&condition=skill_id=").concat(a),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:l.fetchItems();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.fetchSkill=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Skill&field=*"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({items:e})}));case 2:case"end":return t.stop()}}),t)}))),l.handleModalClose=function(){l.setState({showModal:!1,file:null})},l.handleModalShow=function(){l.setState({showModal:!0})},l.handleSubmit=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.refs.skill_title.value,a=l.refs.skill_description.value,t){e.next=6;break}l.setState({errMsg:"Please provide a title for this item"}),e.next=16;break;case 6:if(a){e.next=10;break}l.setState({errMsg:"Please provide a description for this item"}),e.next=16;break;case 10:if(l.setState({errMsg:null}),l.state.errMsg){e.next=16;break}return e.next=14,l.saveToDB(t,a);case 14:l.fetchSkill(),l.handleModalClose();case 16:case"end":return e.stop()}}),e)}))),l.saveToDB=function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="".concat(e.insertAPI,"table=Skill&field=skill_title,skill_description,owner&value='").concat(a,"','").concat(n,"',").concat(e.customAuth.email,"'"),t.next=3,fetch(s,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),l.state={errMsg:null,items:null,showModal:!1},l.fetchSkill=l.fetchSkill.bind(Object(o.a)(l)),l.handleModalClose=l.handleModalClose.bind(Object(o.a)(l)),l.handleModalShow=l.handleModalShow.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchSkill()}},{key:"render",value:function(){var t=this;return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement(h.a,{xs:8,sm:8,md:10,lg:10,xl:10},d.a.createElement("h1",{className:"categoryName"},"Skill")),d.a.createElement(h.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing"))),d.a.createElement("p",{className:"categoryDesc"},"Care to share a skill?"),this.state.items?d.a.createElement(m.Fragment,null,0===this.state.items.length?d.a.createElement("p",null,"No items to display!"):d.a.createElement(m.Fragment,null,this.state.items.map((function(a){return d.a.createElement(k.e,{placement:"bottom",popover:!0,clickable:!0,key:a.skill_id,className:"mdbpopover"},d.a.createElement(k.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("figcaption",null,a.skill_title))),d.a.createElement("div",null,d.a.createElement(k.g,null,a.skill_title),d.a.createElement(k.f,null,d.a.createElement("p",{style:{display:"none"},ref:"itemID"},a.skill_id),d.a.createElement("p",{className:"p"},a.skill_title),d.a.createElement("p",{className:"p"},a.skill_description),""!==e.customAuth.email&&d.a.createElement(m.Fragment,null,a.owner===e.customAuth.email?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteItem(a.skill_id)}},"Delete")):d.a.createElement(m.Fragment,null,d.a.createElement("p",{className:"p",ref:"owner"},a.owner),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.skill_id)}},"Request"))))))})))):d.a.createElement(f.a,null,d.a.createElement(E.a,{animation:"grow",size:"sm"}),d.a.createElement("p",null,"Loading...")),d.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},d.a.createElement(g.a.Header,{closeButton:!0},d.a.createElement(g.a.Title,null,"Add a new listing to the Skills Category")),d.a.createElement(g.a.Body,null,d.a.createElement(h.a,null,d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Skill Title")),d.a.createElement(v.a.Control,{type:"text",ref:"skill_title",placeholder:"Enter Skill Here"})),d.a.createElement(v.a.Group,{as:f.a},d.a.createElement(v.a.Label,{column:!0,sm:3},"Description:"),d.a.createElement(h.a,{sm:9},d.a.createElement(v.a.Control,{as:"textarea",rows:"3",ref:"skill_description",placeholder:"Please describe your skill here"})))),d.a.createElement("p",null,this.state.errMsg),d.a.createElement(f.a,{className:"bottomRow"},d.a.createElement(h.a,{xs:12,sm:12,md:3,lg:3,xl:3},d.a.createElement(p.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))))}}]),n}(d.a.Component);t.a=w}).call(this,a(22))},204:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(21),h=a(9),p=a(20),E=a(69),g=a(30),b=a(11),v=a(6),k=a(24),w=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).deleteItem=function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.deleteAPI,"table=Transport&condition=car_id=").concat(a),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:l.fetchCar();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.fetchCar=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Transport&field=*"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return l.setState({items:e})}));case 2:case"end":return t.stop()}}),t)}))),l.handleModalClose=function(){l.setState({showModal:!1,file:null})},l.handleModalShow=function(){l.setState({showModal:!0})},l.handleSubmit=Object(s.a)(r.a.mark((function e(){var t,a,n,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.refs.car_title.value,a=l.refs.car_make.value,n=l.refs.car_model.value,s=l.refs.car_desintation.value,c=l.refs.car_time.value,t){e.next=9;break}l.setState({errMsg:"Please provide a title for this item"}),e.next=31;break;case 9:if(a){e.next=13;break}l.setState({errMsg:"Please provide a make for this item"}),e.next=31;break;case 13:if(n){e.next=17;break}l.setState({errMsg:"Please provide a model for this item"}),e.next=31;break;case 17:if(s){e.next=21;break}l.setState({errMsg:"Please provide a destination for this item"}),e.next=31;break;case 21:if(c){e.next=25;break}l.setState({errMsg:"Please provide a specific time)"}),e.next=31;break;case 25:if(l.setState({errMsg:null}),l.state.errMsg){e.next=31;break}return e.next=29,l.saveToDB(t,a,n,s,c);case 29:l.fetchCar(),l.handleModalClose();case 31:case"end":return e.stop()}}),e)}))),l.saveToDB=function(){var t=Object(s.a)(r.a.mark((function t(a,n,s,c,l){var o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(e.insertAPI,"table=Transport&field=car_title,car_make,car_model,car_destination,car_time,owner&value='").concat(a,"','").concat(n,"','").concat(s,"','").concat(c,"','").concat(l,"','").concat(e.customAuth.email,"'"),t.next=3,fetch(o,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s){return t.apply(this,arguments)}}(),l.state={errMsg:null,items:null,showModal:!1},l.fetchCar=l.fetchCar.bind(Object(o.a)(l)),l.handleModalClose=l.handleModalClose.bind(Object(o.a)(l)),l.handleModalShow=l.handleModalShow.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchCar()}},{key:"render",value:function(){var t=this;return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement(h.a,{xs:8,sm:8,md:10,lg:10,xl:10},d.a.createElement("h1",{className:"categoryName"},"Transportation")),d.a.createElement(h.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing"))),d.a.createElement("p",{className:"categoryDesc"},"Care to share a ride?"),this.state.items?d.a.createElement(m.Fragment,null,0===this.state.items.length?d.a.createElement("p",null,"No items to display!"):d.a.createElement(m.Fragment,null,this.state.items.map((function(a){return d.a.createElement(k.e,{placement:"bottom",popover:!0,clickable:!0,key:a.car_id,className:"mdbpopover"},d.a.createElement(k.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("figcaption",null,a.car_title))),d.a.createElement("div",null,d.a.createElement(k.g,null,a.car_title),d.a.createElement(k.f,null,d.a.createElement("p",{style:{display:"none"},ref:"itemID"},a.car_id),d.a.createElement("p",{className:"p"},a.car_title),d.a.createElement("p",{className:"p"},a.car_time),""!==e.customAuth.email&&d.a.createElement(m.Fragment,null,a.owner===e.customAuth.email?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteItem(a.car_id)}},"Delete")):d.a.createElement(m.Fragment,null,d.a.createElement("p",{className:"p",ref:"owner"},a.owner),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.car_id)}},"Request"))))))})))):d.a.createElement(f.a,null,d.a.createElement(E.a,{animation:"grow",size:"sm"}),d.a.createElement("p",null,"Loading...")),d.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},d.a.createElement(g.a.Header,{closeButton:!0},d.a.createElement(g.a.Title,null,"Add a new listing to the Transportation Category")),d.a.createElement(g.a.Body,null,d.a.createElement(h.a,null,d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Car Name")),d.a.createElement(v.a.Control,{type:"text",ref:"car_title",placeholder:"Enter Name Here"})),d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Car Make")),d.a.createElement(v.a.Control,{type:"text",ref:"car_make",placeholder:"Enter Make Here"})),d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Car Model")),d.a.createElement(v.a.Control,{type:"text",ref:"car_model",placeholder:"Enter Model Here"})),d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Car Destination")),d.a.createElement(v.a.Control,{type:"text",ref:"car_destination",placeholder:"Enter Destination Here"})),d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Car Time")),d.a.createElement(v.a.Control,{type:"text",ref:"car_time",placeholder:"Enter Time Here"}))),d.a.createElement("p",null,this.state.errMsg),d.a.createElement(f.a,{className:"bottomRow"},d.a.createElement(h.a,{xs:12,sm:12,md:3,lg:3,xl:3},d.a.createElement(p.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))))}}]),n}(d.a.Component);t.a=w}).call(this,a(22))},205:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(17),i=a(18),u=a(0),m=a.n(u),d=a(6),f=a(11),h=a(21),p=a(9),E=a(20),g=a(94),b=a(66),v=a.n(b),k=(a(88),{bucketName:"campus-share-files",dirName:"LostAndFound",region:"us-east-2",accessKeyId:"AKIA4X46LKGOC2PUQVBZ",secretAccessKey:"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"}),w=function(t){Object(i.a)(n,t);var a=Object(o.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).handleImageUpload=function(e){e.target.files.length>0&&l.setState({file:e.target.files[0],fileURL:URL.createObjectURL(e.target.files[0])})},l.handleSubmit=Object(s.a)(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.refs.item_name.value,a=l.refs.item_name.value,n=l.refs.location_found.value,s=l.state.fileURL,t?a?n?s?(l.setState({errMsg:null}),l.uploadToS3(),l.state.errMsg||l.saveToDB(t,a,n,s)):l.setState({errMsg:"Please provide an image of this item"}):l.setState({errMsg:"Please provide the location this item was found"}):l.setState({errMsg:"Please provide the day and time this item was found"}):l.setState({errMsg:"Please provide a name for this item"});case 5:case"end":return e.stop()}}),e)}))),l.uploadToS3=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.uploadFile(l.state.file,k).then((function(e){return l.setState({fileLocation:e.location})})).catch((function(e){return l.setState({errMsg:e})}));case 2:case"end":return e.stop()}}),e)}))),l.saveToDB=function(){var t=Object(s.a)(r.a.mark((function t(a,n,s,c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.insertAPI,"table=LostAndFound&field=item_name, datetime_found, location_found, item_img, discoverer&value='").concat(a,"', ").concat(n,", '").concat(s,"', '").concat(c,"', '").concat(e.customAuth.email,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),l.state={file:null,fileURL:null,fileLocation:null,errMsg:null},l}return Object(l.a)(n,[{key:"render",value:function(){return m.a.createElement(g.a,{categoryName:"Lost & Found",categoryDesc:'Exception: "Lost time is never found again" - Benjamin Franklin',form:m.a.createElement(d.a,null,m.a.createElement(f.a,null,m.a.createElement(f.a.Prepend,null,m.a.createElement(f.a.Text,null,"Item Name")),m.a.createElement(d.a.Control,{type:"text",ref:"item_name",placeholder:"..."})),m.a.createElement(f.a,null,m.a.createElement(f.a.Prepend,null,m.a.createElement(f.a.Text,null,"Location Found")),m.a.createElement(d.a.Control,{type:"text",ref:"location_found",placeholder:"..."})),m.a.createElement("input",{type:"datetime-local"}),m.a.createElement("input",{type:"file",onChange:this.handleImageUpload,accept:"image/gif, image/jpeg, image/png"}),null!==this.state.fileURL&&m.a.createElement("img",{src:this.state.fileURL,alt:"",className:"uploadPreview"}),m.a.createElement("p",null,this.state.errMsg),m.a.createElement(h.a,{className:"bottomRow"},m.a.createElement(p.a,{xs:12,sm:12,md:3,lg:3,xl:3},m.a.createElement(E.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))})}}]),n}(m.a.Component);t.a=w}).call(this,a(22))},206:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(69),h=a(6),p=a(20),E=a(173),g=a(81),b=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).getSecret=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(l.state.userEmail,"'"),{method:"GET",headers:{"Access-Control-Allow-Origin":!0,"x-api-key":e.APIkey}}).then((function(e){return e.json()})).then((function(e){return l.setState({secret:e[0].resetPasswordSecret,hashedPassword:e[0].password})})).catch((function(e){return l.setState({serverErrorMsg:e.text})}));case 2:case"end":return t.stop()}}),t)}))),l.validate=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.state.hashedPassword===l.state.secret.slice(0,l.state.hashedPassword.length))try{E.decode(l.state.token,l.state.secret)===l.state.userEmail?l.setState({validated:!0}):l.setState({showError:!0})}catch(t){l.setState({showError:!0})}else l.setState({showError:!0});case 1:case"end":return e.stop()}}),e)}))),l.savePassword=function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.hash(a,8,function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"UPDATE Users SET password='".concat(n,"' WHERE email='").concat(e.customAuth.email)})}).then((function(e){return e.json().then(console.log(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l.handleSubmit=function(){var e=l.refs.newPassword.value;console.log(e),0===e.length?alert("no password"):(l.savePassword(l.refs.newPassword.value),alert("password saved successfully!"),setTimeout(5e3),l.setState({validated:!0}))},l.savePassword=l.savePassword.bind(Object(o.a)(l)),l.state={userEmail:"",hashedPassword:"",secret:"",token:"",validated:!1,passwordSaved:!1,serverErrorMsg:"",showError:!1},l.validate=l.validate.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=window.location.href.split("/"),t=e[4],a=e[5];this.setState({userEmail:t,token:a})}},{key:"componentDidMount",value:function(){this.getSecret(),this.validate()}},{key:"render",value:function(){return d.a.createElement(m.Fragment,null,!1===this.state.validated?!1===this.state.showError?d.a.createElement(f.a,{animation:"border",role:"status"},d.a.createElement("span",{className:"sr-only"},"Loading...")):d.a.createElement(m.Fragment,null,d.a.createElement("p",null,"This link is not valid. Please request a new password reset link:"),d.a.createElement("a",{href:"/recoverpassword"},"Request New Link")):d.a.createElement(h.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},d.a.createElement(h.a.Group,{controlId:"newPassword"},d.a.createElement(h.a.Label,null,"New Password"),d.a.createElement(h.a.Control,{required:!0,type:"password",ref:"newPassword",placeholder:"Password"}),d.a.createElement(h.a.Control.Feedback,{type:"invalid"},"Please enter a password.")),d.a.createElement(p.a,{variant:"primary",type:"submit"},"Submit")))}}]),n}(d.a.Component);t.a=b}).call(this,a(22))},207:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},209:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(17),c=a(18),l=a(0),o=a.n(l),i=a(20),u=(a(308),a(130)),m=a(99),d=a(33);a(309);var f=function(){var e=o.a.useState(0),t=Object(u.a)(e,2),a=t[0],n=t[1],r=o.a.useState(null),s=Object(u.a)(r,2),c=s[0],l=s[1];return o.a.createElement(m.a,{activeIndex:a,direction:c,onSelect:function(e,t){n(e),l(t.direction)}},o.a.createElement(m.a.Item,null,o.a.createElement(d.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner1.png",fluid:!0})),o.a.createElement(m.a.Item,null,o.a.createElement(d.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner_2.png",fluid:!0})))},h=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={exampleAPICallData:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://h1xqnteg60.execute-api.us-east-2.amazonaws.com/SelectProd?table=Textbooks&field=book_author",{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(t){e.setState({exampleAPICallData:t})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"Home"},o.a.createElement(f,{id:"slideshow"}),o.a.createElement("div",{className:"text-center"},o.a.createElement("a",{href:"/signin"},o.a.createElement(i.a,{variant:"success"},"Sign In")),o.a.createElement("a",{href:"/createaccount"},o.a.createElement(i.a,{variant:"secondary"},"Create Account"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("a",{href:"/categories"},"Continue as guest")))}}]),a}(o.a.Component);t.a=h},211:function(e,t,a){e.exports=a(212)},212:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(35),s=a.n(r),c=(a(217),a(181)),l=a(207),o=a(54);e.backendURL="http://campus-share-backend.us-east-2.elasticbeanstalk.com",e.thisURL="http://localhost:3000",e.selectAPI="https://h1xqnteg60.execute-api.us-east-2.amazonaws.com/SelectProd?",e.deleteAPI="https://a2cisw63pb.execute-api.us-east-2.amazonaws.com/Prod?",e.insertAPI="https://00tyqs4c74.execute-api.us-east-2.amazonaws.com/Prod?",e.updateAPI="https://qa1gniaexi.execute-api.us-east-2.amazonaws.com/Prod?",e.APIkey="dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3",s.a.render(n.a.createElement(o.a,null,n.a.createElement(c.a,null)),document.getElementById("root")),l.a()}.call(this,a(22))},217:function(e,t,a){},218:function(e,t,a){},221:function(e,t,a){e.exports=a.p+"static/media/campushare_logo.2ea92f96.png"},224:function(e,t,a){},225:function(e,t,a){e.exports=a.p+"static/media/bell.a2e70fa6.png"},226:function(e,t,a){},227:function(e,t,a){e.exports=a.p+"static/media/AboutUs.e21e8f56.png"},228:function(e,t,a){},229:function(e,t,a){},233:function(e,t){},235:function(e,t){},265:function(e,t){},266:function(e,t){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},313:function(e,t,a){},361:function(e,t,a){},88:function(e,t,a){},94:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),s=a(8),c=a(12),l=a(13),o=a(19),i=a(17),u=a(18),m=a(0),d=a.n(m),f=a(21),h=a(9),p=a(20),E=a(30),g=a(24),b=(a(88),function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(t){var l;return Object(c.a)(this,n),(l=a.call(this,t)).componentDidMount=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.fetchItems();case 1:case"end":return e.stop()}}),e)}))),l.handleModalClose=function(){l.setState({showModal:!1})},l.handleModalShow=function(){l.setState({showModal:!0})},l.handleConfirmDeleteClose=function(){l.setState({showConfirmDelete:!1})},l.handleConfirmDeleteShow=function(){l.setState({showConfirmDelete:!0})},l.handleSubmit=function(){},l.fetchItems=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT * FROM ".concat(l.props.tableName)})}).then((function(e){return e.json()})).then((function(e){return l.setState({items:e.data})}));case 2:case"end":return t.stop()}}),t)}))),l.requestItem=function(){var t=Object(s.a)(r.a.mark((function t(a,n,s,c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id, source_table) VALUES ("'.concat(a,'", "').concat(n,'", "').concat(s,'", "').concat(c,'");')})}).then((function(e){return e.json()})).then((function(e){return l.setState({items:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),l.deleteItem=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TODO: Delete item with call to backend");case 1:case"end":return e.stop()}}),e)}))),l.state={items:[],showModal:!1,showConfirmDelete:!1},l.fetchItems=l.fetchItems.bind(Object(o.a)(l)),l.handleModalClose=l.handleModalClose.bind(Object(o.a)(l)),l.handleModalShow=l.handleModalShow.bind(Object(o.a)(l)),l.handleConfirmDeleteShow=l.handleConfirmDeleteShow.bind(Object(o.a)(l)),l.handleConfirmDeleteClose=l.handleConfirmDeleteClose.bind(Object(o.a)(l)),l.handleSubmit=l.handleSubmit.bind(Object(o.a)(l)),l.deleteItem=l.deleteItem.bind(Object(o.a)(l)),l}return Object(l.a)(n,[{key:"render",value:function(){return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement(h.a,{xs:8,sm:8,md:10,lg:10,xl:10},d.a.createElement("h1",{className:"categoryName"},this.props.categoryName)),d.a.createElement(h.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing"))),d.a.createElement("p",{className:"categoryDesc"},this.props.categoryDesc),d.a.createElement(E.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},d.a.createElement(E.a.Header,{closeButton:!0},d.a.createElement(E.a.Title,null,"Add a new listing to the ",this.props.categoryName," Category")),d.a.createElement(E.a.Body,null,this.props.form)),d.a.createElement(g.c,null,d.a.createElement(f.a,{className:"mdbpopoeverRow"},this.props.cards)))}}]),n}(d.a.Component));t.a=b}).call(this,a(22))}},[[211,1,2]]]);
//# sourceMappingURL=main.e2e3dd53.chunk.js.map