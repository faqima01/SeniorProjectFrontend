(this["webpackJsonpsenior-project"]=this["webpackJsonpsenior-project"]||[]).push([[0],{191:function(e,t,a){},192:function(e,t,a){"use strict";(function(e){var n=a(214),c=a(1),r=a.n(c),s=(a(224),a(30)),o=a(61),l=a(193),i=a(197),u=a(198),m=a(200),d=a(201),f=a(215),p=a(202),h=a(205),E=a(206),g=a(212),y=a(100),b=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var c=a[n];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length,c.length)}return""};e.customAuth={isAuthenticated:""!==b("email"),email:b("email"),authenticate:function(e){this.email=e;var t=new Date;t.setTime(t.getTime()+864e5),document.cookie="email=".concat(this.email,"; expires=").concat(t.toUTCString(),"; path=/;")},signout:function(){var e=new Date;e.setTime(e.getTime()-864e5),document.cookie='email=""; expires='.concat(e.toUTCString(),"; path=/;"),window.location.href="/"}};var v=function(t){var a=t.component,c=Object(n.a)(t,["component"]);return r.a.createElement(s.b,Object.assign({},c,{render:function(t){return e.customAuth.isAuthenticated?r.a.createElement(a,t):r.a.createElement(s.a,{to:"/signin"})}}))};t.a=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(y.a,{className:"App-navBar",expand:"lg",sticky:"top"},r.a.createElement("img",{src:a(379),className:"logo",alt:"CampusShare Logo"}),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(l.a,null))),r.a.createElement("div",{className:"element"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,render:function(t){return e.customAuth.isAuthenticated?r.a.createElement(i.a,null):r.a.createElement(f.a,t)}}),r.a.createElement(s.b,{path:"/categories",component:u.a}),r.a.createElement(s.b,{path:"/textbooks"},r.a.createElement(E.a,{sectionTitle:"Textbooks",className:"listing"})),r.a.createElement(s.b,{path:"/misc",component:g.a}),r.a.createElement(s.b,{path:"/signin",component:m.a}),r.a.createElement(s.b,{path:"/createaccount",component:d.a}),r.a.createElement(v,{path:"/profile",component:p.a}),r.a.createElement(v,{path:"/recoverpassword",component:h.a})))),r.a.createElement("p",{className:"footerMessage"},"Candid Cheetah Co. \xa92019-2020"))}}).call(this,a(12))},193:function(e,t,a){"use strict";(function(e){var n=a(1),c=a.n(n),r=a(67),s=a(100),o=a(31);t.a=function(){return c.a.createElement(n.Fragment,null,e.customAuth.isAuthenticated?c.a.createElement(n.Fragment,null,c.a.createElement(r.a,{className:"mr-auto"},c.a.createElement(r.a.Link,{href:"/"},"Home"),c.a.createElement(r.a.Link,{href:"/categories"},"Categories")),c.a.createElement(r.a,{className:"justify-content-end"},c.a.createElement(s.a.Text,null,"Signed in as: ",c.a.createElement("a",{href:"/profile"},e.customAuth.email)),c.a.createElement(o.a,{variant:"outline-secondary",size:"sm",onClick:e.customAuth.signout},"Sign Out"))):c.a.createElement(n.Fragment,null,c.a.createElement(r.a,{className:"justify-content-end"},c.a.createElement(r.a.Link,null,"About us"),c.a.createElement(r.a.Link,null,"How does it work"))))}}).call(this,a(12))},197:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(11),p=a(74),h=a(31),E=(a(229),"http://campus-share-backend.us-east-2.elasticbeanstalk.com"),g=function(t){function n(t){var a;return Object(r.a)(this,n),(a=Object(o.a)(this,Object(l.a)(n).call(this,t))).componentDidMount=function(){a.fetchNotifications()},a.fetchNotifications=function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE requester_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({requests:e.data})})));case 2:return t.next=4,c.a.awrap(fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE offerer_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({offers:e.data})})));case 4:case"end":return t.stop()}}))},a.sendMessage=function(e,t){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(fetch("".concat(E,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'UPDATE Notifications SET status = "'.concat(t,'" WHERE notification_id = "').concat(e,'"')})}).catch((function(e){console.error(e)})));case 2:a.fetchNotifications();case 3:case"end":return n.stop()}}))},a.dismissNotification=function(){},a.state={showModal:!1,requests:[],offers:[]},a.fetchNotifications=a.fetchNotifications.bind(Object(i.a)(a)),a.dismissNotification=a.dismissNotification.bind(Object(i.a)(a)),a}return Object(u.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"Home"},d.a.createElement("div",{className:"clearfix"},d.a.createElement("img",{className:"bell2",src:a(230),alt:"Luther Bell"}),d.a.createElement("h1",{className:"heading1"},"Home"),d.a.createElement("h3",{className:"heading3"},"See updates here")),d.a.createElement("p",null,"Notifications"),d.a.createElement("div",{className:"notifyCard"},d.a.createElement("div",{className:"notifyBorder"},d.a.createElement(f.a,{className:"notifyCol"},d.a.createElement(m.Fragment,null,this.state.requests&&this.state.requests.map((function(t){return d.a.createElement(p.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},d.a.createElement(p.a.Header,null,d.a.createElement("strong",{className:"mr-auto"},"Request"),d.a.createElement("small",null,"from ",t.offerer_email)),d.a.createElement(p.a.Body,null,d.a.createElement("p",null,"This request is ",t.status,".")))}))),this.state.offers&&this.state.offers.map((function(t){return d.a.createElement(p.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},d.a.createElement(p.a.Header,null,d.a.createElement("strong",{className:"mr-auto"},"Offer"),d.a.createElement("small",null,"from ",t.requester_email)),d.a.createElement(p.a.Body,null,"pending"===t.status?d.a.createElement(m.Fragment,null,d.a.createElement("p",null,"Please approve or decline this request:"),d.a.createElement(h.a,{variant:"success",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"accepted")}},"Approve"),d.a.createElement(h.a,{variant:"danger",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"declined")}},"Decline")):d.a.createElement("p",null,"You have ",t.status," this request.")))}))))))}}]),n}(d.a.Component);t.a=g}).call(this,a(12))},198:function(e,t,a){"use strict";var n=a(23),c=a(24),r=a(26),s=a(25),o=a(27),l=a(1),i=a.n(l),u=(a(231),a(199)),m=a(19),d=a(11),f=a(28),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(u.a,null,i.a.createElement(m.a,{className:"row"},i.a.createElement(d.a,null,i.a.createElement("a",{href:"https://www.luther.edu/",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/clothing.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Clothing")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/events.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Events")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/food.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Food")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/housing.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Housing")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/lostfound.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Lost & Found"))))),i.a.createElement(m.a,{className:"row"},i.a.createElement(d.a,null,i.a.createElement("a",{href:"https://www.xkcd.com/",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/meme.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Meme")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/mentor.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Mentorship")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"/misc",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/umbrella.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Misc.")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/opportunities.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Opportunities")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/projects.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Projects"))))),i.a.createElement(m.a,{className:"row"},i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/skills.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Skills")))),i.a.createElement(d.a,{className:"col"},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/social.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Social")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"textbooks",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/textbooks.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Textbooks")))),i.a.createElement(d.a,null,i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{class:"categoryFigure"},i.a.createElement(f.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/transportation.png",className:"categoryImg"}),i.a.createElement("figcaption",{class:"categoryFigcaption"},"Transportation")))),i.a.createElement(d.a,null)))}}]),t}(i.a.Component);t.a=p},200:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(11),p=a(9),h=a(19),E=a(43),g=a(31),y=(a(232),a(129)),b=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(l.a)(a).call(this,t))).verifyLogin=function(t){var a,r,s;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),console.log("verifying login"),a="".concat(n.refs.email.value,"@luther.edu"),r=n.refs.password.value,o.next=6,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT password FROM Users WHERE email='".concat(a,"'")})}).then((function(e){return e.json().then((function(e){return s=e.data[0].password}))})));case 6:"undefined"!==typeof s?y.compare(r,s,(function(t,n){n?(e.customAuth.authenticate(a),window.location.href="/"):alert("wrong password")})):alert("email does not exist");case 7:case"end":return o.stop()}}))},n.verifyLogin=n.verifyLogin.bind(Object(i.a)(n)),n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){e.customAuth.isAuthenticated&&(window.location.href="/")}},{key:"render",value:function(){return d.a.createElement("div",{className:"row justify-content-center"},d.a.createElement(f.a,{sm:12,md:8,lg:6},d.a.createElement(p.a,{onSubmit:this.verifyLogin},d.a.createElement(p.a.Group,{as:h.a,controlId:"validationUsername"},d.a.createElement(p.a.Label,{column:!0,sm:2},"Email"),d.a.createElement(f.a,{sm:10,md:10,lg:10},d.a.createElement(E.a,null,d.a.createElement(p.a.Control,{type:"text",ref:"email",placeholder:"norsekey",required:!0}),d.a.createElement(E.a.Append,null,d.a.createElement(E.a.Text,{id:"inputGroupAppend"},"@luther.edu")),d.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Please use your valid luther.edu email.")))),d.a.createElement(p.a.Group,{as:h.a,controlId:"validationPassword"},d.a.createElement(p.a.Label,{column:!0,sm:2},"Password"),d.a.createElement(f.a,{sm:10,md:10,lg:10},d.a.createElement(p.a.Control,{type:"password",ref:"password",placeholder:"Password"}))),d.a.createElement(p.a.Group,{as:h.a},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement("a",{className:"tinytext",href:"/recoverpassword"},"Reset Password"))),d.a.createElement(p.a.Group,{as:h.a,controlId:"staySignedIn"},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement(p.a.Check,{type:"switch",id:"stay-signed-in",label:"Sign in for 2 weeks"}))),d.a.createElement(p.a.Group,{as:h.a},d.a.createElement(f.a,{sm:{span:10,offset:2}},d.a.createElement(g.a,{variant:"primary",type:"submit"},"Sign In"))))))}}]),a}(d.a.Component);t.a=b}).call(this,a(12))},201:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(27),u=a(1),m=a.n(u),d=a(11),f=a(9),p=a(19),h=a(43),E=a(31),g=function(t){function a(){var t,n;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return(n=Object(o.a)(this,(t=Object(l.a)(a)).call.apply(t,[this].concat(i)))).verifyEmail=function(t){var a,r;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),a=n.refs.email,s.next=4,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT * FROM Users WHERE email=".concat(a)})}));case 4:r=s.sent,console.log(r);case 6:case"end":return s.stop()}}))},n}return Object(i.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement(d.a,{sm:12,md:10,lg:8},m.a.createElement(f.a,null,m.a.createElement("h3",null,"Welcome to Campus Share!"),m.a.createElement("p",null,"Please fill out the following information to enhance your experience."),m.a.createElement(f.a.Group,{as:p.a,ref:"email"},m.a.createElement(f.a.Label,{column:!0,sm:2},"Email"),m.a.createElement(d.a,{sm:10,md:10,lg:10},m.a.createElement(h.a,null,m.a.createElement(f.a.Control,{type:"text",placeholder:"norsekey",required:!0}),m.a.createElement(h.a.Append,null,m.a.createElement(h.a.Text,{id:"inputGroupAppend"},"@luther.edu")),m.a.createElement(f.a.Control.Feedback,{type:"invalid"},"Please use your valid luther.edu email.")))),m.a.createElement(f.a.Group,{as:p.a,controlId:"password"},m.a.createElement(f.a.Label,{column:!0,sm:2},"Password"),m.a.createElement(d.a,{sm:10,md:10,lg:10},m.a.createElement(f.a.Control,{type:"password",placeholder:"Password"}))),m.a.createElement("p",null,"Grad Year"),m.a.createElement("p",null,"Majors \u2227 Minors"),m.a.createElement("p",null,"Interests"),m.a.createElement(f.a.Group,{as:p.a},m.a.createElement(d.a,{sm:{span:10,offset:2}},m.a.createElement(E.a,{variant:"primary",type:"submit"},"Create Account"))))))}}]),a}(m.a.Component);t.a=g}).call(this,a(12))},202:function(e,t,a){"use strict";var n=a(6),c=a.n(n),r=a(86),s=a(1),o=a.n(s),l=a(19),i=a(11),u=a(31),m=a(55),d=(a(313),a(203)),f="http://campus-share-backend.us-east-2.elasticbeanstalk.com";t.a=function(e){var t="",a=Object(s.useState)(!1),n=Object(r.a)(a,2),p=n[0],h=n[1];var E;for(var g=["Accounting","Africana Studies","Allied Health Sciences","Anthropology","Art","Biblical Languages","Biology","Chemistry","Classics","Communication Studies","Computer Science","Data Science","Economics","Elementary Education","English","Environmental Studies","Exercise Science","French","German","Health Promotion","History","International Studies","Management","Mathematics","Mathematics/Statistics","Music"," Music education","Neuroscience","Nordic Studies","Nursing","Philosophy","Physics","Political science","Psychology","Religion","Social work","Sociology","Spanish","Theatre","Visual Communication","Women and Gender Studies"],y=[],b=0;b<g.length;b++)y.push(o.a.createElement("option",{key:g[b]},g[b]));return o.a.createElement(s.Fragment,null,o.a.createElement("h1",null,"Profile Page"),o.a.createElement(l.a,null,o.a.createElement(i.a,null,o.a.createElement("p",null,"Change Password"),o.a.createElement(d.a,null)),o.a.createElement(i.a,null,o.a.createElement("p",null,"Details"),o.a.createElement("p",null,E),o.a.createElement(u.a,{onClick:function(){var e;e=t,c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(fetch("".concat(f,"/userdata"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return e.json()})).then((function(e){return E=e})));case 2:case"end":return t.stop()}})),h(!0)}},"Edit"),o.a.createElement(m.a,{show:p},o.a.createElement(u.a,{onClick:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:h(!1);case 1:case"end":return e.stop()}}))}},"Save")))))}},203:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(9),p=a(31),h=a(129),E=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(l.a)(a).call(this,t))).savePassword=function(t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:h.hash(t,8,(function(t,a){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"UPDATE Users SET password='".concat(a,"' WHERE email='").concat(e.customAuth.email)})}).then((function(e){return e.json().then(console.log(e))})));case 2:case"end":return t.stop()}}))}));case 1:case"end":return a.stop()}}))},n.handleSubmit=function(){var e=n.refs.newPassword.value;console.log(e),0===e.length?alert("no password"):(n.savePassword(n.refs.newPassword.value),alert("password saved successfully!"),setTimeout(5e3),n.setState({validated:!0}))},n.savePassword=n.savePassword.bind(Object(i.a)(n)),n.state={validated:!1,passwordSaved:!1},n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return d.a.createElement(f.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},d.a.createElement(f.a.Group,{controlId:"newPassword"},d.a.createElement(f.a.Label,null,"New Password"),d.a.createElement(f.a.Control,{required:!0,type:"password",ref:"newPassword",placeholder:"Password"}),d.a.createElement(f.a.Control.Feedback,{type:"invalid"},"Please enter a password.")),d.a.createElement(p.a,{variant:"primary",type:"submit"},"Submit"))}}]),a}(d.a.Component);t.a=E}).call(this,a(12))},205:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(9),p=a(19),h=a(11),E=a(43),g=a(31),y=a(314),b=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(l.a)(a).call(this,t))).confirmAccountExists=function(){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT * FROM Users WHERE email=".concat(n.refs.email,"@luther.edu")})}));case 2:return t=a.sent,a.abrupt("return",t.text.length>0);case 4:case"end":return a.stop()}}))},n.sendEmail=function(){var t,a,r;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!n.confirmAccountExists){s.next=12;break}return s.next=3,c.a.awrap(y.createTestAccount());case 3:return t=s.sent,a=y.createTransport({host:"smtp.ethereal.email",port:587,secure:!1,auth:{user:t.user,pass:t.pass}}),s.next=7,c.a.awrap(a.sendMail({from:'"Campus Share Tech Support" <techsupport@campus-share.com>',to:n.refs.email,subject:"Password Recovery",text:"Please follow this link to reset your password:",html:"<a href='".concat(e.thisURL,"/resetpassword'></a>")}));case 7:r=s.sent,console.log("Message sent: ".concat(r.messageId)),console.log("Preview URL: ".concat(y.getTestMessageUrl(r))),s.next=13;break;case 12:n.setState({accountExists:!1});case 13:case"end":return s.stop()}}))},n.state={accountExists:!0},n.confirmAccountExists=n.confirmAccountExists.bind(Object(i.a)(n)),n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({accountExists:!0})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("p",null,"Please enter your email to recover your password."),d.a.createElement(f.a,{noValidate:!0,validated:this.state.accountExists,onSubmit:this.sendEmail},d.a.createElement(f.a.Group,{as:p.a,ref:"email"},d.a.createElement(f.a.Label,{column:!0,sm:2},"Email"),d.a.createElement(h.a,{sm:10,md:10,lg:10},d.a.createElement(E.a,null,d.a.createElement(f.a.Control,{type:"text",placeholder:"norsekey",required:!0}),d.a.createElement(E.a.Append,null,d.a.createElement(E.a.Text,{id:"inputGroupAppend"},"@luther.edu")),d.a.createElement(f.a.Control.Feedback,{type:"invalid"},"This account does not exist.")))),d.a.createElement(g.a,{variant:"primary",type:"submit"},"Recover Password")))}}]),a}(d.a.Component);t.a=b}).call(this,a(12))},206:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(19),p=a(31),h=a(216),E=a(55),g=a(9),y=a(41),b=(a(191),"https://www.googleapis.com/books/v1/volumes"),v=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(l.a)(a).call(this,t))).componentDidMount=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetchBooks();case 1:case"end":return e.stop()}}))},n.fetchBooks=function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(fetch("".concat(e.backendURL,"/querytextbooks")).then((function(e){return e.json()})).then((function(e){return n.setState({items:e})})));case 2:case"end":return t.stop()}}))},n.fetchVolumeInfo=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===(e=n.refs.textbook_title)||""===e.value){t.next=7;break}return e=e.value,t.next=5,c.a.awrap(fetch("".concat(b,"?q=").concat(e,"&key=").concat(n.state.API_KEY)).then((function(e){return e.json()})).then((function(e){return n.setState({bookOptions:e.items})})));case 5:t.next=8;break;case 7:alert("Please enter a title before searching Google Books.");case 8:case"end":return t.stop()}}))},n.handleModalShow=function(){n.setState({showModal:!0})},n.handleModalClose=function(){n.setState({showModal:!1})},n.handleSubmit=function(t){var a,r,s,o,l,i,u;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===(a=n.refs.textbook_title)||""===a.value){t.next=19;break}return r=n.refs.GoogleBookID,console.log("".concat(b,"/").concat(r.value,"?key=").concat(n.state.API_KEY)),t.next=6,c.a.awrap(fetch("".concat(b,"/").concat(r.value,"?key=").concat(n.state.API_KEY)).then((function(e){return e.json().then((function(e){return s=e}))})));case 6:return o=s.volumeInfo,console.log(o),l=o.title,i=o.authors[0],"XXX-X-XXX-XXXXX-X",u=o.imageLinks.smallThumbnail,console.log('"'.concat(l,'", "').concat(i,'", "').concat("XXX-X-XXX-XXXXX-X",'", "').concat(e.customAuth.email,'", "').concat(u,'"')),t.next=15,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Textbooks (book_title, book_author, book_isbn, owner, book_image) VALUES ("'.concat(l,'", "').concat(i,'", "').concat("XXX-X-XXX-XXXXX-X",'", "').concat(e.customAuth.email,'", "').concat(u,'")')})}).catch((function(e){console.error(e)})));case 15:200!==t.sent.status&&alert("Uff da! Something went wrong, please try again."),t.next=20;break;case 19:alert("Please provide a valid title.");case 20:case"end":return t.stop()}}))},n.sendRequest=function(t,a){var n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===e.customAuth.email){r.next=8;break}return r.next=3,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id, source_table) VALUES ("'.concat(e.customAuth.email,'", "').concat(t,'", "').concat(a,'", "Textbooks");')})}));case 3:200!==(n=r.sent).status?alert("Uff da! Something went wrong, please try again."):alert("Request successfully sent!"),console.log(n),r.next=9;break;case 8:alert("You are the owner of this title. Please look for another title.");case 9:case"end":return r.stop()}}))},n.state={items:[],bookOptions:[],showModal:!1,API_KEY:"AIzaSyB5xY_lIKmpdwTI50kPz-UYiBDmyiSoc5M"},n.handleModalShow=n.handleModalShow.bind(Object(i.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(i.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.fetchBooks=n.fetchBooks.bind(Object(i.a)(n)),n.sendRequest=n.sendRequest.bind(Object(i.a)(n)),n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){var t=this;return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement("h1",{className:"sectionTitle"},this.props.sectionTitle),e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing")),d.a.createElement("p",{className:"sectionDesc"},"Care to share or borrow a book?"),d.a.createElement(f.a,null,"undefined"!==typeof this.state.items&&d.a.createElement(y.c,null,d.a.createElement(f.a,{className:"mdbpopoverDiv"},this.state.items.map((function(e){return d.a.createElement(y.e,{placement:"bottom",popover:!0,clickable:!0,key:e.book_id,className:"mdbpopover"},d.a.createElement(y.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("img",{className:"listingImg",src:e.book_image||"https://cdn0.iconfinder.com/data/icons/reading-5/384/Generic_book_file_type-512.png",alt:e.book_title}),d.a.createElement("figcaption",null,e.book_title))),d.a.createElement("div",null,d.a.createElement(y.g,null,e.book_title),d.a.createElement(y.f,null,d.a.createElement("p",{style:{display:"none"},ref:"bookID"},e.book_id),d.a.createElement("p",{className:"p"},e.book_author),d.a.createElement("p",{className:"p"},e.course),d.a.createElement("p",{className:"p"},e.loanPeriod),d.a.createElement("p",{className:"p",ref:"owner"},e.owner),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(e.owner,e.book_id)}},"Request"))))})))),"undefined"===typeof this.state.items&&d.a.createElement(m.Fragment,null,"\xa0",d.a.createElement(h.a,{animation:"border",size:"md"}),"\xa0Loading...")),d.a.createElement(E.a,{show:this.state.showModal,onHide:this.handleModalClose},d.a.createElement(E.a.Header,{closeButton:!0},d.a.createElement(E.a.Title,null,"Add a listing to ",this.props.sectionTitle),d.a.createElement(E.a.Body,null,d.a.createElement(g.a,{onSubmit:this.handleSubmit},d.a.createElement(g.a.Label,null,"Title"),d.a.createElement(g.a.Control,{type:"text",ref:"textbook_title",placeholder:"Enter Title Here"}),d.a.createElement(p.a,{variant:"outline-secondary",onClick:this.fetchVolumeInfo},"Search for Title"),this.state.bookOptions.length>0&&d.a.createElement(g.a.Group,{controlId:"titleSelect"},d.a.createElement(g.a.Label,null,"Select title"),d.a.createElement(g.a.Control,{ref:"GoogleBookID",as:"select"},this.state.bookOptions.map((function(e){return d.a.createElement("option",{value:e.id,key:e.id},"Author: ",e.volumeInfo.authors,"\xa0Publisher: ",e.volumeInfo.publisher,"\xa0\xa9",e.volumeInfo.publishedDate)})))),d.a.createElement(p.a,{variant:"success",type:"submit",onClick:this.handleSubmit},"Submit"))))))}}]),a}(d.a.Component);t.a=v}).call(this,a(12))},212:function(e,t,a){"use strict";(function(e){var n=a(6),c=a.n(n),r=a(23),s=a(24),o=a(26),l=a(25),i=a(16),u=a(27),m=a(1),d=a.n(m),f=a(19),p=a(31),h=a(216),E=a(55),g=a(9),y=a(11),b=a(43),v=a(41),w=(a(191),function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(l.a)(a).call(this,t))).componentDidMount=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetchItems();case 1:case"end":return e.stop()}}))},n.fetchItems=function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT * FROM Misc WHERE owner!=".concat(e.customAuth.email)})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})));case 2:case"end":return t.stop()}}))},n.handleModalShow=function(){n.setState({showModal:!0})},n.handleModalClose=function(){n.setState({showModal:!1})},n.handleSubmit=function(t){var a,r,s;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(a=n.refs.item_name.value)){t.next=11;break}return r=n.refs.item_desc.value,"",s=n.refs.loan_deadline.value,t.next=7,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Misc (item_name, item_desc, item_img, item_loan_deadline) VALUES ("'.concat(a,'", "').concat(r,'", "').concat("",'", "').concat(s,'")')})}).catch((function(e){console.error(e)})));case 7:200!==t.sent.status?alert("Uff da! Something went wrong, please try again."):n.handleModalClose(),t.next=12;break;case 11:alert("Please provide a name for your offering.");case 12:case"end":return t.stop()}}))},n.sendRequest=function(t,a){var n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===e.customAuth.email){r.next=8;break}return r.next=3,c.a.awrap(fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id) VALUES ("'.concat(e.customAuth.email,'", "').concat(t,'", "').concat(a,'");')})}));case 3:200!==(n=r.sent).status?alert("Uff da! Something went wrong, please try again."):alert("Request successfully sent!"),console.log(n),r.next=9;break;case 8:alert("You are the owner of this title. Please look for another title.");case 9:case"end":return r.stop()}}))},n.state={items:[],bookOptions:[],showModal:!1,API_KEY:"AIzaSyB5xY_lIKmpdwTI50kPz-UYiBDmyiSoc5M"},n.handleModalShow=n.handleModalShow.bind(Object(i.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(i.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.fetchItems=n.fetchItems.bind(Object(i.a)(n)),n.sendRequest=n.sendRequest.bind(Object(i.a)(n)),n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){var t=this;return d.a.createElement(m.Fragment,null,d.a.createElement(f.a,null,d.a.createElement("h1",{className:"sectionTitle"},"Misc Page"),e.customAuth.isAuthenticated&&d.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing")),d.a.createElement("p",{className:"sectionDesc"},"The Island of Misfit Toys, CampusShare-style"),d.a.createElement(f.a,null,"undefined"!==typeof this.state.items&&d.a.createElement(v.c,null,d.a.createElement(f.a,{className:"mdbpopoverDiv"},this.state.items.map((function(e){return d.a.createElement(v.e,{placement:"bottom",popover:!0,clickable:!0,key:e.item_name,className:"mdbpopover"},d.a.createElement(v.b,{className:"listingBtn"},d.a.createElement("figure",{className:"floatLeft"},d.a.createElement("img",{className:"listingImg",src:e.item_img||"https://cdn0.iconfinder.com/data/icons/reading-5/384/Generic_book_file_type-512.png",alt:e.book_title}),d.a.createElement("figcaption",null,e.item_name))),d.a.createElement("div",null,d.a.createElement(v.g,null,e.item_name),d.a.createElement(v.f,null,d.a.createElement("p",{style:{display:"none"},ref:"itemID"},e.item_id),d.a.createElement("p",{className:"p"},e.item_desc),d.a.createElement("p",{className:"p"},e.loan_period),d.a.createElement("p",{className:"p",ref:"owner"},e.owner),d.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(e.owner,e.item_id)}},"Request"))))})))),"undefined"===typeof this.state.items&&d.a.createElement(m.Fragment,null,"\xa0",d.a.createElement(h.a,{animation:"border",size:"md"}),"\xa0Loading...")),d.a.createElement(E.a,{show:this.state.showModal,onHide:this.handleModalClose,size:"lg",centered:!0},d.a.createElement(E.a.Header,{closeButton:!0},d.a.createElement(E.a.Title,null,"Add a listing to Misc")),d.a.createElement(E.a.Body,null,d.a.createElement(g.a,{onSubmit:this.handleSubmit},d.a.createElement(f.a,null,d.a.createElement(y.a,null,d.a.createElement(b.a,null,d.a.createElement(b.a.Prepend,null,d.a.createElement(b.a.Text,null,"Item Name")),d.a.createElement(g.a.Control,{type:"text",ref:"item_name",placeholder:"Enter Name Here"})),d.a.createElement(g.a.Label,null,"Description:"),d.a.createElement(g.a.Control,{as:"textarea",rows:"3",ref:"item_desc",placeholder:"Please describe your item here"})),d.a.createElement(y.a,null,d.a.createElement("p",null,"Image Upload"),d.a.createElement("input",{type:"file",ref:"item_image",accept:"image/gif, image/jpeg, image/png"}),d.a.createElement("p",null,"Loan Period"))),d.a.createElement(p.a,{variant:"success",type:"submit",onClick:this.handleSubmit},"Submit")))))}}]),a}(d.a.Component));t.a=w}).call(this,a(12))},213:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},215:function(e,t,a){"use strict";var n=a(23),c=a(24),r=a(26),s=a(25),o=a(27),l=a(1),i=a.n(l),u=a(31),m=(a(311),a(86)),d=a(99),f=a(28);a(312);var p=function(){var e=i.a.useState(0),t=Object(m.a)(e,2),a=t[0],n=t[1],c=i.a.useState(null),r=Object(m.a)(c,2),s=r[0],o=r[1];return i.a.createElement(d.a,{activeIndex:a,direction:s,onSelect:function(e,t){n(e),o(t.direction)}},i.a.createElement(d.a.Item,null,i.a.createElement(f.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner1.png",fluid:!0})),i.a.createElement(d.a.Item,null,i.a.createElement(f.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner_2.png",fluid:!0})))},h=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},i.a.createElement(p,{id:"slideshow"}),i.a.createElement("div",{className:"text-center"},i.a.createElement("a",{href:"/signin"},i.a.createElement(u.a,{variant:"success"},"Sign In")),i.a.createElement("a",{href:"/createaccount"},i.a.createElement(u.a,{variant:"secondary"},"Create Account"))))}}]),t}(i.a.Component);t.a=h},217:function(e,t,a){e.exports=a(218)},218:function(e,t,a){"use strict";a.r(t),function(e){var t=a(1),n=a.n(t),c=a(36),r=a.n(c),s=(a(223),a(192)),o=a(213),l=a(61);e.backendURL="http://campus-share-backend.us-east-2.elasticbeanstalk.com",e.thisURL="http://localhost:3000",r.a.render(n.a.createElement(l.a,null,n.a.createElement(s.a,null)),document.getElementById("root")),o.a()}.call(this,a(12))},223:function(e,t,a){},224:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){e.exports=a.p+"static/media/bell.a2e70fa6.png"},231:function(e,t,a){},232:function(e,t,a){},236:function(e,t){},238:function(e,t){},268:function(e,t){},269:function(e,t){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},379:function(e,t,a){e.exports=a.p+"static/media/campushare_logo.2ea92f96.png"}},[[217,1,2]]]);
//# sourceMappingURL=main.9fe0aa86.chunk.js.map