(this["webpackJsonpsenior-project"]=this["webpackJsonpsenior-project"]||[]).push([[0],{175:function(e,t,a){"use strict";(function(e){var n=a(200),r=a(0),c=a.n(r),s=(a(209),a(21)),o=a(54),l=a(176),i=a(180),m=a(181),u=a(182),d=a(184),h=a(185),f=a(201),p=a(186),E=a(188),g=a(190),b=a(196),v=a(197),w=a(93),y=a(91),k=a(198),x=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""};e.customAuth={isAuthenticated:""!==x("email"),email:x("email"),authenticate:function(e,t){this.email=e;var a=new Date,n=864e5;t&&(n*=14),console.log(n),a.setTime(a.getTime()+n),document.cookie="email=".concat(this.email,"; expires=").concat(a.toUTCString(),"; path=/;")},signout:function(){var e=new Date;e.setTime(e.getTime()-864e5),document.cookie='email=""; expires='.concat(e.toUTCString(),"; path=/;"),window.location.href="/"}};var S=function(t){var a=t.component,r=Object(n.a)(t,["component"]);return c.a.createElement(s.b,Object.assign({},r,{render:function(t){return e.customAuth.isAuthenticated?c.a.createElement(a,t):c.a.createElement(s.a,{to:{pathname:"/signin",state:{from:t.location}}})}}))};t.a=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.a,null,c.a.createElement(l.a,null),c.a.createElement("div",{className:"element"},c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,render:function(t){return e.customAuth.isAuthenticated?c.a.createElement(i.a,null):c.a.createElement(f.a,t)}}),c.a.createElement(s.b,{path:"/categories",component:u.a}),c.a.createElement(s.b,{path:"/about",component:m.a}),c.a.createElement(s.b,{path:"/textbooks"},c.a.createElement(g.a,{sectionTitle:"Textbooks",className:"listing"})),c.a.createElement(s.b,{path:"/lostandfound",component:v.a}),c.a.createElement(s.b,{path:"/listing",component:w.a}),c.a.createElement(s.b,{path:"/misc",component:b.a}),c.a.createElement(s.b,{path:"/signin",component:d.a}),c.a.createElement(s.b,{path:"/createaccount",component:h.a}),c.a.createElement(s.b,{path:"/recoverpassword",component:E.a}),c.a.createElement(s.b,{path:"/resetpassword/:email/:token",component:y.a}),c.a.createElement(S,{path:"/profile",component:p.a}),c.a.createElement(s.b,{path:"/backdoor",component:k.a})))),c.a.createElement("p",{className:"footerMessage"},"Candid Cheetah Co. \xa92019-2020"))}}).call(this,a(17))},176:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),c=a(96),s=a(22),o=a(9),l=a(31),i=a(23);a(210);t.a=function(){return r.a.createElement(c.a,{className:"App-navBar",expand:"lg",sticky:"top"},r.a.createElement(s.a,null,r.a.createElement(o.a,{xs:4,sm:4,md:2,lg:2,xl:2},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:a(213),className:"logo",alt:"CampusShare Logo"}))),r.a.createElement(o.a,{xs:0,sm:0,md:2,lg:2,xl:2},r.a.createElement(c.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"floatRight"})),r.a.createElement(o.a,{xs:12,sm:12,md:8,lg:8,xl:8},r.a.createElement(c.a.Collapse,{id:"basic-navbar-nav"},e.customAuth.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{className:"mr-auto"},r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{href:"/"},"Home")),r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{href:"/categories"},"Categories"))),r.a.createElement(l.a,{className:"justify-content-end"},r.a.createElement(l.a.Item,null,r.a.createElement(c.a.Text,null,"Signed in as: ",r.a.createElement("a",{href:"/profile"},e.customAuth.email))),r.a.createElement(l.a.Item,null,r.a.createElement(i.a,{variant:"outline-secondary",size:"sm",className:"btn-signOut",onClick:e.customAuth.signout},"Sign Out")))):r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{className:"mr-auto"},r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{href:"/"},"Home")),r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{href:"/about"},"About")),r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{disabled:!0},"How does it work")),r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{href:"/categories"},"Categories"))),r.a.createElement(l.a,{className:"justify-content-end"},r.a.createElement("a",{href:"/signin"},r.a.createElement(i.a,{variant:"success",size:"sm",className:"btn-signIn"},"Sign In"))))))))}}).call(this,a(17))},180:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(9),p=a(68),E=a(23),g=(a(216),"http://campus-share-backend.us-east-2.elasticbeanstalk.com"),b=function(t){function n(t){var a;return Object(s.a)(this,n),(a=Object(l.a)(this,Object(i.a)(n).call(this,t))).componentDidMount=function(){a.fetchNotifications()},a.fetchNotifications=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(g,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE requester_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({requests:e.data})}));case 2:return t.next=4,fetch("".concat(g,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'SELECT * from Notifications WHERE offerer_email="'.concat(e.customAuth.email,'" ORDER BY notification_id DESC')})}).then((function(e){return e.json()})).then((function(e){return a.setState({offers:e.data})}));case 4:case"end":return t.stop()}}),t)}))),a.sendMessage=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'UPDATE Notifications SET status = "'.concat(n,'" WHERE notification_id = "').concat(t,'"')})}).catch((function(e){console.error(e)}));case 2:a.fetchNotifications();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.dismissNotification=function(){},a.state={showModal:!1,requests:[],offers:[]},a.fetchNotifications=a.fetchNotifications.bind(Object(m.a)(a)),a.dismissNotification=a.dismissNotification.bind(Object(m.a)(a)),a}return Object(u.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"Home"},h.a.createElement("div",{className:"clearfix"},h.a.createElement("img",{className:"bell2",src:a(217),alt:"Luther Bell"}),h.a.createElement("h1",{className:"heading1"},"Home"),h.a.createElement("h3",{className:"heading3"},"See updates here")),h.a.createElement("p",null,"Notifications"),h.a.createElement("div",{className:"notifyCard"},h.a.createElement("div",{className:"notifyBorder"},h.a.createElement(f.a,{className:"notifyCol"},h.a.createElement(d.Fragment,null,this.state.requests&&this.state.requests.map((function(t){return h.a.createElement(p.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},h.a.createElement(p.a.Header,null,h.a.createElement("strong",{className:"mr-auto"},"Request"),h.a.createElement("small",null,"from ",t.offerer_email)),h.a.createElement(p.a.Body,null,h.a.createElement("p",null,"This request is ",t.status,".")))}))),this.state.offers&&this.state.offers.map((function(t){return h.a.createElement(p.a,{show:!0,onClose:e.dismissNotification,key:t.notification_id},h.a.createElement(p.a.Header,null,h.a.createElement("strong",{className:"mr-auto"},"Offer"),h.a.createElement("small",null,"from ",t.requester_email)),h.a.createElement(p.a.Body,null,"pending"===t.status?h.a.createElement(d.Fragment,null,h.a.createElement("p",null,"Please approve or decline this request:"),h.a.createElement(E.a,{variant:"success",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"accepted")}},"Approve"),h.a.createElement(E.a,{variant:"danger",size:"sm",onClick:function(){return e.sendMessage(t.notification_id,"declined")}},"Decline")):h.a.createElement("p",null,"You have ",t.status," this request.")))}))))))}}]),n}(h.a.Component);t.a=b}).call(this,a(17))},181:function(e,t,a){"use strict";var n=a(14),r=a(15),c=a(19),s=a(18),o=a(20),l=a(0),i=a.n(l),m=(a(218),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"about"},i.a.createElement("img",{className:"aboutUs",src:a(219),alt:"About Us"}),i.a.createElement("ul",null,i.a.createElement("li",null,"Luther students are able to connect with other Luther students and faculty"),i.a.createElement("li",null,"Will help with textbook trading, transportation, etc."),i.a.createElement("li",null,"User friendly"),i.a.createElement("li",null,"Come up with more")))}}]),t}(i.a.Component));t.a=m},182:function(e,t,a){"use strict";var n=a(14),r=a(15),c=a(19),s=a(18),o=a(20),l=a(0),i=a.n(l),m=(a(220),a(183)),u=a(22),d=a(9),h=a(30),f=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(u.a,{className:"row"},i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"https://www.luther.edu/",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/clothing.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Clothing")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/events.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Events")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/food.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Food")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/housing.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Housing")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"/lostandfound",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/lostfound.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Lost & Found")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"https://www.xkcd.com/",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/meme.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Meme")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/mentor.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Mentorship")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"/misc",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/umbrella.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Misc.")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/opportunities.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Opportunities")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/projects.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Projects")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/skills.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Skills")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/social.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Social")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"textbooks",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/textbooks.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Textbooks")))),i.a.createElement(d.a,{xs:4,sm:3,md:3,lg:2,xl:3},i.a.createElement("a",{href:"categories",className:"nounderline"},i.a.createElement("figure",{className:"categoryFigure"},i.a.createElement(h.a,{src:"https://campus-share-files.s3.us-east-2.amazonaws.com/transportation.png",className:"categoryImg"}),i.a.createElement("figcaption",{className:"categoryFigcaption"},"Transportation"))))))}}]),t}(i.a.Component);t.a=f},184:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(9),p=a(8),E=a(22),g=a(28),b=a(23),v=(a(221),a(80)),w=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).verifyLogin=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s,o,l,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c="".concat(n.refs.email.value,"@luther.edu"),s=n.refs.password.value,o=n.refs.staySignedIn.checked,t.next=6,fetch("".concat(e.selectAPI,"table=Users&field=password&condition=email='").concat(c,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json().then((function(e){return l=e}))}));case 6:l.length>0?(i=l[0].password,v.compare(s,i,(function(t,a){a&&(e.customAuth.authenticate(c,o),window.location.href="/")})),setTimeout((function(){n.setState({errMsg:"Incorrect Password"})}),250)):n.setState({errMsg:"No account exists with that email."});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.state={errMsg:""},n.verifyLogin=n.verifyLogin.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"componentDidMount",value:function(){e.customAuth.isAuthenticated&&(window.location.href="/")}},{key:"render",value:function(){return h.a.createElement("div",{className:"row justify-content-center"},h.a.createElement(f.a,{sm:12,md:8,lg:6},h.a.createElement(p.a,{onSubmit:this.verifyLogin},h.a.createElement(p.a.Group,{as:E.a,controlId:"validationUsername"},h.a.createElement(p.a.Label,{column:!0,sm:2},"Email"),h.a.createElement(f.a,{sm:10,md:10,lg:10},h.a.createElement(g.a,null,h.a.createElement(p.a.Control,{type:"text",ref:"email",placeholder:"norsekey",required:!0}),h.a.createElement(g.a.Append,null,h.a.createElement(g.a.Text,{id:"inputGroupAppend"},"@luther.edu")),h.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Please use your valid luther.edu email.")))),h.a.createElement(p.a.Group,{as:E.a,controlId:"validationPassword"},h.a.createElement(p.a.Label,{column:!0,sm:2},"Password"),h.a.createElement(f.a,{sm:10,md:10,lg:10},h.a.createElement(p.a.Control,{type:"password",ref:"password",placeholder:"Password"}))),h.a.createElement("p",null,this.state.errMsg),h.a.createElement(p.a.Group,{as:E.a},h.a.createElement(f.a,{sm:{span:10,offset:2}},h.a.createElement("a",{className:"tinytext",href:"/recoverpassword"},"Reset Password"))),h.a.createElement(p.a.Group,{as:E.a,controlId:"staySignedIn"},h.a.createElement(f.a,{sm:{span:10,offset:2}},h.a.createElement(p.a.Check,{type:"switch",ref:"staySignedIn",label:"Sign in for 2 weeks"}))),h.a.createElement(p.a.Group,{as:E.a},h.a.createElement(f.a,{sm:{span:10,offset:2}},h.a.createElement(b.a,{variant:"primary",type:"submit"},"Sign In"))))))}}]),a}(h.a.Component);t.a=w}).call(this,a(17))},185:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(20),u=a(0),d=a.n(u),h=a(9),f=a(8),p=a(22),E=a(28),g=a(23),b=a(80),v=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).verifyEmail=Object(c.a)(r.a.mark((function t(){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(n.refs.email.value,"@luther.edu"),c="".concat(n.refs.password.value),t.next=4,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(a,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return n.setState({validEmail:0===e.length})})).catch((function(e){return console.log(e)}));case 4:n.state.validEmail?n.savePassword(a,c):n.setState({errMsg:"An account with this email already exists. Please sign in."});case 5:case"end":return t.stop()}}),t)}))),n.savePassword=function(){var t=Object(c.a)(r.a.mark((function t(a,c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==c?(b.hash(c,10,(function(t,n){fetch("".concat(e.insertAPI,"table=Users&field=email,password&value='").concat(a,"','").concat(n,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),n.setState({accountCreated:!0})):n.setState({errMsg:"Please provide a valid password"});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),n.state={accountCreated:!1,errMsg:null,validEmail:!0},n}return Object(m.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"row justify-content-center"},d.a.createElement(h.a,{sm:12,md:10,lg:8},d.a.createElement(f.a,null,d.a.createElement("h3",null,"Welcome to Campus Share!"),d.a.createElement(f.a.Group,{as:p.a},d.a.createElement(f.a.Label,{column:!0,sm:2},"Email"),d.a.createElement(h.a,{sm:10,md:10,lg:10},d.a.createElement(E.a,null,d.a.createElement(f.a.Control,{type:"text",ref:"email",placeholder:"norsekey",required:!0}),d.a.createElement(E.a.Append,null,d.a.createElement(E.a.Text,{id:"inputGroupAppend"},"@luther.edu"))))),d.a.createElement(f.a.Group,{as:p.a,controlId:"password"},d.a.createElement(f.a.Label,{column:!0,sm:2},"Password"),d.a.createElement(h.a,{sm:10,md:10,lg:10},d.a.createElement(f.a.Control,{type:"password",ref:"password",placeholder:"Password"}))),d.a.createElement("p",null,this.state.errMsg),this.state.accountCreated&&d.a.createElement("p",null,"Account created! Please login here: ",d.a.createElement("a",{href:"/signin"},"Sign In")),d.a.createElement(f.a.Group,{as:p.a},d.a.createElement(h.a,{sm:{span:10,offset:2}},d.a.createElement(g.a,{variant:"primary",onClick:this.verifyEmail},"Create Account"))))))}}]),a}(d.a.Component);t.a=v}).call(this,a(17))},186:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(7),s=a(79),o=a(0),l=a.n(o),i=a(22),m=a(9),u=a(23),d=a(36),h=(a(302),a(91)),f="http://campus-share-backend.us-east-2.elasticbeanstalk.com";t.a=function(e){var t=Object(o.useState)(!1),a=Object(s.a)(t,2),n=a[0],p=a[1];var E,g=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function b(){return(b=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/userdata"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}).then((function(e){return e.json()})).then((function(e){return E=e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}for(var v=["Accounting","Africana Studies","Allied Health Sciences","Anthropology","Art","Biblical Languages","Biology","Chemistry","Classics","Communication Studies","Computer Science","Data Science","Economics","Elementary Education","English","Environmental Studies","Exercise Science","French","German","Health Promotion","History","International Studies","Management","Mathematics","Mathematics/Statistics","Music"," Music education","Neuroscience","Nordic Studies","Nursing","Philosophy","Physics","Political science","Psychology","Religion","Social work","Sociology","Spanish","Theatre","Visual Communication","Women and Gender Studies"],w=[],y=0;y<v.length;y++)w.push(l.a.createElement("option",{key:v[y]},v[y]));return l.a.createElement(o.Fragment,null,l.a.createElement("h1",null,"Profile Page"),l.a.createElement(i.a,null,l.a.createElement(m.a,null,l.a.createElement("p",null,"Change Password"),l.a.createElement(h.a,null)),l.a.createElement(m.a,null,l.a.createElement("p",null,"Details"),l.a.createElement("p",null,E),l.a.createElement(u.a,{onClick:function(){!function(e){b.apply(this,arguments)}(""),p(!0)}},"Edit"),l.a.createElement(d.a,{show:n},l.a.createElement(u.a,{onClick:g},"Save")))))}},188:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(8),p=a(22),E=a(9),g=a(28),b=a(23),v=a(189),w=a.n(v);a(306);a(307).config();var y=a(167),k=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).confirmAccountExists=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(c=n.refs.email.value)){t.next=5;break}n.setState({errorMessage:"Norsekey is missing."}),t.next=9;break;case 5:return s="".concat(c,"@luther.edu"),t.next=8,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(s,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return n.setState({accountExists:e.length>0,hashedPassword:e[0].password})})).catch((function(e){return n.setState({serverErrorMsg:e.message})}));case 8:n.sendEmail(s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.sendEmail=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s,o,l,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.accountExists){t.next=11;break}return c={userEmail:a},s=new Date,o="".concat(n.state.hashedPassword,"-").concat(s.getTime()),t.next=6,fetch("".concat(e.insertAPI,"table=Users&field=resetPasswordSecret&value='").concat(o,"'")).catch((function(e){return n.setState({serverErrorMsg:e.text})}));case 6:l=y.encode(c,o),i={recipient:a,password_reset_link:"".concat(e.thisURL,"/resetpassword/").concat(c.userEmail,"/").concat(l),password_recovery:"".concat(e.thisURL,"/recoverpassword")},w.a.send("gmail","password_recovery",i,"'".concat("user_tKy4SXYTGu1s5eJEaRgjT","'")).then((function(e){n.setState({emailSent:!0,userErrorMsg:"",serverErrorMsg:""})}),(function(e){n.setState({serverErrorMsg:e.text})})),t.next=12;break;case 11:n.setState({userErrorMsg:"No account exists with that email.",emailSent:!1});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.state={accountExists:!1,emailSent:!1,hashedPassword:"",serverErrorMsg:"",userEmail:"",userErrorMsg:""},n.confirmAccountExists=n.confirmAccountExists.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({userEmail:e.target.value.toLowerCase()})}},{key:"componentDidMount",value:function(){this.setState({accountExists:!1,emailSent:!1,hashedPassword:"",serverErrorMsg:"",userErrorMsg:""})}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("p",null,"Please enter your email to recover your password."),h.a.createElement(f.a,null,h.a.createElement(f.a.Group,{as:p.a},h.a.createElement(f.a.Label,{column:!0,xs:12,sm:12,md:1,lg:1,xl:1},"Email"),h.a.createElement(E.a,{sm:6,md:6,lg:6},h.a.createElement(g.a,null,h.a.createElement(f.a.Control,{type:"text",ref:"email",value:this.state.userEmail,onChange:this.handleChange,placeholder:"norsekey",required:!0}),h.a.createElement(g.a.Append,null,h.a.createElement(g.a.Text,{id:"inputGroupAppend"},"@luther.edu"))),""!==this.state.userErrorMsg&&h.a.createElement(g.a,null,h.a.createElement(f.a.Control,{type:"text",className:"errorMsg",readOnly:!0,defaultValue:this.state.userErrorMsg})),""!==this.state.serverErrorMsg&&h.a.createElement("div",{className:"errorMsg"},h.a.createElement("p",null,"Uff da! We've encountered the following error:"),h.a.createElement("p",null,this.state.serverErrorMsg),h.a.createElement("p",null,"Contact tech support here: ",h.a.createElement("a",{href:"mailto:hoffka04@luther.edu?Subject=Your%20App%20Is%20Busted",target:"_top"},"hoffka04@luther.edu"))),this.state.emailSent&&h.a.createElement(g.a,null,h.a.createElement(f.a.Control,{type:"text",className:"successMsg",readOnly:!0,defaultValue:"Recovery email sent! Check your inbox for a link to reset your password."})))),h.a.createElement(b.a,{variant:"primary",onClick:this.confirmAccountExists},"Recover Password")))}}]),a}(h.a.Component);t.a=k}).call(this,a(17))},190:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(22),p=a(23),E=a(124),g=a(36),b=a(8),v=a(35),w=(a(86),"https://www.googleapis.com/books/v1/volumes"),y=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).componentDidMount=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchBooks();case 2:case"end":return e.stop()}}),e)}))),n.fetchBooks=Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="".concat(e.selectAPI,"table=Textbooks&field=*"),fetch(a,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return n.setState({items:e})})).catch((function(e){return alert(e)}));case 2:case"end":return t.stop()}}),t)}))),n.fetchVolumeInfo=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===(t=n.refs.textbook_title)||""===t.value){e.next=7;break}return t=t.value,e.next=5,fetch("".concat(w,"?q=").concat(t,"&key=").concat(n.state.API_KEY)).then((function(e){return e.json()})).then((function(e){return n.setState({bookOptions:e.items})}));case 5:e.next=8;break;case 7:alert("Please enter a title before searching Google Books.");case 8:case"end":return e.stop()}}),e)}))),n.handleModalShow=function(){n.setState({showModal:!0})},n.handleModalClose=function(){n.setState({showModal:!1}),n.fetchBooks()},n.handleSubmit=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s,o,l,i,m,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===(c=n.refs.textbook_title)||""===c.value){t.next=19;break}return s=n.refs.GoogleBookID,console.log("".concat(w,"/").concat(s.value,"?key=").concat(n.state.API_KEY)),t.next=6,fetch("".concat(w,"/").concat(s.value,"?key=").concat(n.state.API_KEY)).then((function(e){return e.json().then((function(e){return o=e}))}));case 6:return l=o.volumeInfo,console.log(l),i=l.title,m=l.authors[0],"XXX-X-XXX-XXXXX-X",u=l.imageLinks.smallThumbnail,console.log('"'.concat(i,'", "').concat(m,'", "').concat("XXX-X-XXX-XXXXX-X",'", "').concat(e.customAuth.email,'", "').concat(u,'"')),t.next=15,fetch("".concat(e.insertAPI,'table=Textbooks&field=book_title, book_author, book_isbn, owner, book_image&value="').concat(i,'", "').concat(m,'", "').concat("XXX-X-XXX-XXXXX-X",'", "').concat(e.customAuth.email,'", "').concat(u,'"')).catch((function(e){return console.log(e)}));case 15:200!==t.sent.status?alert("Uff da! Something went wrong, please try again."):(n.handleModalClose(),n.fetchBooks()),t.next=20;break;case 19:alert("Please provide a valid title.");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.sendRequest=function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a===e.customAuth.email){t.next=8;break}return t.next=3,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id, source_table) VALUES ("'.concat(e.customAuth.email,'", "').concat(a,'", "').concat(n,'", "Textbooks");')})});case 3:200!==(c=t.sent).status?alert("Uff da! Something went wrong, please try again."):alert("Request successfully sent!"),console.log(c),t.next=9;break;case 8:alert("You are the owner of this title. Please look for another title.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),n.handleConfirmDeleteShow=function(){n.setState({showConfirmDelete:!0})},n.handleConfirmDeleteClose=function(){n.setState({showConfirmDelete:!1})},n.deleteItem=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n.state={items:[],bookOptions:[],showModal:!1,showConfirmDelete:!1,API_KEY:"AIzaSyB5xY_lIKmpdwTI50kPz-UYiBDmyiSoc5M"},n.handleConfirmDeleteShow=n.handleConfirmDeleteShow.bind(Object(m.a)(n)),n.handleConfirmDeleteClose=n.handleConfirmDeleteClose.bind(Object(m.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(m.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.fetchBooks=n.fetchBooks.bind(Object(m.a)(n)),n.sendRequest=n.sendRequest.bind(Object(m.a)(n)),n.deleteItem=n.deleteItem.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return h.a.createElement(d.Fragment,null,h.a.createElement(f.a,null,h.a.createElement("h1",{className:"categoryName"},this.props.sectionTitle),e.customAuth.isAuthenticated&&h.a.createElement(p.a,{onClick:this.handleModalShow},"Add Listing")),h.a.createElement("p",{className:"categoryDesc"},"Care to share or borrow a book?"),h.a.createElement(f.a,null,"undefined"!==typeof this.state.items&&h.a.createElement(v.c,null,h.a.createElement(f.a,{className:"mdbpopoverDiv"},this.state.items.map((function(a){return h.a.createElement(v.e,{placement:"bottom",popover:!0,clickable:!0,key:a.book_id,className:"mdbpopover"},h.a.createElement(v.b,{className:"listingBtn"},h.a.createElement("figure",{className:"floatLeft"},h.a.createElement("img",{className:"listingImg",src:a.book_image||"https://cdn0.iconfinder.com/data/icons/reading-5/384/Generic_book_file_type-512.png",alt:a.book_title}),h.a.createElement("figcaption",null,a.book_title))),h.a.createElement("div",null,h.a.createElement(v.g,null,a.book_title),h.a.createElement(v.f,null,h.a.createElement("p",{style:{display:"none"},ref:"bookID"},a.book_id),h.a.createElement("p",{className:"p"},a.book_author),h.a.createElement("p",{className:"p"},a.course),h.a.createElement("p",{className:"p"},a.loanPeriod),""!==e.customAuth.email&&(a.owner!==e.customAuth.email?h.a.createElement(d.Fragment,null,h.a.createElement("p",{className:"p",ref:"owner"},a.owner),h.a.createElement(p.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.book_id)}},"Request")):t.state.showConfirmDelete?h.a.createElement(d.Fragment,null,h.a.createElement("p",null,"Are you sure you want to delete this item?"),h.a.createElement(p.a,{variant:"outline-secondary",size:"sm",onClick:function(){return t.handleConfirmDeleteClose}},"Cancel"),h.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteItem(a.id)}},"Yes, Delete")):h.a.createElement(p.a,{variant:"danger",size:"sm",onClick:function(){return t.handleConfirmDeleteShow}},"Delete")))))})))),"undefined"===typeof this.state.items&&h.a.createElement(d.Fragment,null,"\xa0",h.a.createElement(E.a,{animation:"border",size:"md"}),"\xa0Loading...")),h.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose},h.a.createElement(g.a.Header,{closeButton:!0},h.a.createElement(g.a.Title,null,"Add a listing to ",this.props.sectionTitle),h.a.createElement(g.a.Body,null,h.a.createElement(b.a,{onSubmit:this.handleSubmit},h.a.createElement(b.a.Label,null,"Title"),h.a.createElement(b.a.Control,{type:"text",ref:"textbook_title",placeholder:"Enter Title Here"}),h.a.createElement(p.a,{variant:"outline-secondary",onClick:this.fetchVolumeInfo},"Search for Title"),this.state.bookOptions.length>0&&h.a.createElement(b.a.Group,{controlId:"titleSelect"},h.a.createElement(b.a.Label,null,"Select title"),h.a.createElement(b.a.Control,{ref:"GoogleBookID",as:"select"},this.state.bookOptions.map((function(e){return h.a.createElement("option",{value:e.id,key:e.id},"Author: ",e.volumeInfo.authors,"\xa0Publisher: ",e.volumeInfo.publisher,"\xa0\xa9",e.volumeInfo.publishedDate)})))),h.a.createElement(p.a,{variant:"success",type:"submit",onClick:this.handleSubmit},"Submit"))))))}}]),a}(h.a.Component);t.a=y}).call(this,a(17))},196:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(22),p=a(9),E=a(23),g=a(124),b=a(36),v=a(28),w=a(8),y=a(35),k=a(92),x=a.n(k),S=(a(86),{bucketName:"campus-share-files",dirName:"Misc",region:"us-east-2",accessKeyId:"AKIA4X46LKGOC2PUQVBZ",secretAccessKey:"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"}),N=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).deleteItem=function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.deleteAPI,"table=Misc&condition=item_id=").concat(a),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:n.fetchItems();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.fetchItems=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Misc&field=*"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(e){return n.setState({items:e})}));case 2:case"end":return t.stop()}}),t)}))),n.handleImageUpload=function(e){e.target.files.length>0&&n.setState({file:e.target.files[0],fileURL:URL.createObjectURL(e.target.files[0])})},n.handleModalClose=function(){n.setState({showModal:!1,file:null})},n.handleModalShow=function(){n.setState({showModal:!0})},n.handleSubmit=Object(c.a)(r.a.mark((function e(){var t,a,c,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.refs.item_name.value,a=n.refs.item_desc.value,c=n.state.fileURL,s=n.refs.loan_start.value,o=n.refs.loan_end.value,t){e.next=9;break}n.setState({errMsg:"Please provide a name for this item"}),e.next=33;break;case 9:if(a){e.next=13;break}n.setState({errMsg:"Please provide a description for this item"}),e.next=33;break;case 13:if(c){e.next=17;break}n.setState({errMsg:"Please provide an image for this item"}),e.next=33;break;case 17:if(s){e.next=21;break}n.setState({errMsg:"Please provide a loan start for this item"}),e.next=33;break;case 21:if(!(o&&o<s)){e.next=25;break}n.setState({errMsg:"Please provide a valid loan end (currently set to before start)"}),e.next=33;break;case 25:return n.setState({errMsg:null}),e.next=28,n.uploadToS3();case 28:if(n.state.errMsg){e.next=33;break}return e.next=31,n.saveToDB(t,a,n.state.fileLocation,s,o);case 31:n.fetchItems(),n.handleModalClose();case 33:case"end":return e.stop()}}),e)}))),n.saveToDB=function(){var t=Object(c.a)(r.a.mark((function t(a,n,c,s,o){var l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l="".concat(e.insertAPI,"table=Misc&field=item_name,item_desc,item_img,loan_start,loan_end,owner&value='").concat(a,"','").concat(n,"','").concat(c,"','").concat(s,"','").concat(o,"','").concat(e.customAuth.email,"'"),t.next=3,fetch(l,{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r,c){return t.apply(this,arguments)}}(),n.uploadToS3=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.uploadFile(n.state.file,S).then((function(e){return n.setState({fileLocation:e.location})})).catch((function(e){return n.setState({errMsg:e})}));case 2:case"end":return e.stop()}}),e)}))),n.state={errMsg:null,file:null,fileLocation:null,fileURL:null,items:null,showModal:!1},n.fetchItems=n.fetchItems.bind(Object(m.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(m.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"render",value:function(){var t=this;return h.a.createElement(d.Fragment,null,h.a.createElement(f.a,null,h.a.createElement(p.a,{xs:8,sm:8,md:10,lg:10,xl:10},h.a.createElement("h1",{className:"categoryName"},"Misc")),h.a.createElement(p.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&h.a.createElement(E.a,{onClick:this.handleModalShow},"Add Listing"))),h.a.createElement("p",{className:"categoryDesc"},"mi-s\u0259-\u02c8l\u0101-n\u0113-\u0259s: consisting of many things of different sorts"),this.state.items?h.a.createElement(d.Fragment,null,0===this.state.items.length?h.a.createElement("p",null,"No items to display!"):h.a.createElement(d.Fragment,null,this.state.items.map((function(a){return h.a.createElement(y.e,{placement:"bottom",popover:!0,clickable:!0,key:a.item_id,className:"mdbpopover"},h.a.createElement(y.b,{className:"listingBtn"},h.a.createElement("figure",{className:"floatLeft"},h.a.createElement("img",{className:"listingImg",src:a.item_img||"https://cdn1.iconfinder.com/data/icons/image-manipulations/100/13-512.png",alt:a.item_name}),h.a.createElement("figcaption",null,a.item_name))),h.a.createElement("div",null,h.a.createElement(y.g,null,a.item_name),h.a.createElement(y.f,null,h.a.createElement("p",{style:{display:"none"},ref:"itemID"},a.item_id),h.a.createElement("p",{className:"p"},a.item_desc),h.a.createElement("p",{className:"p"},a.loan_period),a.owner===e.customAuth.email?h.a.createElement(d.Fragment,null,h.a.createElement(E.a,{variant:"danger",size:"sm",onClick:function(){return t.deleteItem(a.item_id)}},"Delete")):h.a.createElement(d.Fragment,null,h.a.createElement("p",{className:"p",ref:"owner"},a.owner),h.a.createElement(E.a,{variant:"success",size:"sm",onClick:function(){return t.sendRequest(a.owner,a.item_id)}},"Request")))))})))):h.a.createElement(f.a,null,h.a.createElement(g.a,{animation:"grow",size:"sm"}),h.a.createElement("p",null,"Loading...")),h.a.createElement(b.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,null,"Add a new listing to the ",this.props.categoryName," Category")),h.a.createElement(b.a.Body,null,h.a.createElement(p.a,null,h.a.createElement(v.a,null,h.a.createElement(v.a.Prepend,null,h.a.createElement(v.a.Text,null,"Item Name")),h.a.createElement(w.a.Control,{type:"text",ref:"item_name",placeholder:"Enter Name Here"})),h.a.createElement(w.a.Group,{as:f.a},h.a.createElement(w.a.Label,{column:!0,sm:3},"Description:"),h.a.createElement(p.a,{sm:9},h.a.createElement(w.a.Control,{as:"textarea",rows:"3",ref:"item_desc",placeholder:"Please describe your item here"})))),h.a.createElement(p.a,null,h.a.createElement("p",null,"Image Upload"),h.a.createElement("input",{type:"file",onChange:this.handleImageUpload,accept:"image/gif, image/jpeg, image/png"}),null!==this.state.fileURL&&h.a.createElement("img",{src:this.state.fileURL,alt:"",className:"uploadPreview"}),h.a.createElement("p",null,"Loan Period (Loan Start Required)"),h.a.createElement("input",{type:"date",ref:"loan_start"}),h.a.createElement("input",{type:"date",ref:"loan_end"})),h.a.createElement("p",null,this.state.errMsg),h.a.createElement(f.a,{className:"bottomRow"},h.a.createElement(p.a,{xs:12,sm:12,md:3,lg:3,xl:3},h.a.createElement(E.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))))}}]),a}(h.a.Component);t.a=N}).call(this,a(17))},197:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(20),u=a(0),d=a.n(u),h=a(8),f=a(28),p=a(22),E=a(9),g=a(23),b=a(93),v=a(92),w=a.n(v),y=(a(86),{bucketName:"campus-share-files",dirName:"LostAndFound",region:"us-east-2",accessKeyId:"AKIA4X46LKGOC2PUQVBZ",secretAccessKey:"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"}),k=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).handleImageUpload=function(e){e.target.files.length>0&&n.setState({file:e.target.files[0],fileURL:URL.createObjectURL(e.target.files[0])})},n.handleSubmit=Object(c.a)(r.a.mark((function e(){var t,a,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.refs.item_name.value,a=n.refs.item_name.value,c=n.refs.location_found.value,s=n.state.fileURL,t?a?c?s?(n.setState({errMsg:null}),n.uploadToS3(),n.state.errMsg||n.saveToDB(t,a,c,s)):n.setState({errMsg:"Please provide an image of this item"}):n.setState({errMsg:"Please provide the location this item was found"}):n.setState({errMsg:"Please provide the day and time this item was found"}):n.setState({errMsg:"Please provide a name for this item"});case 5:case"end":return e.stop()}}),e)}))),n.uploadToS3=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.uploadFile(n.state.file,y).then((function(e){return n.setState({fileLocation:e.location})})).catch((function(e){return n.setState({errMsg:e})}));case 2:case"end":return e.stop()}}),e)}))),n.saveToDB=function(){var t=Object(c.a)(r.a.mark((function t(a,n,c,s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.insertAPI,"table=LostAndFound&field=item_name, datetime_found, location_found, item_img, discoverer&value='").concat(a,"', ").concat(n,", '").concat(c,"', '").concat(s,"', '").concat(e.customAuth.email,"'"),{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),n.state={file:null,fileURL:null,fileLocation:null,errMsg:null},n}return Object(m.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return d.a.createElement(b.a,{categoryName:"Lost & Found",categoryDesc:'Exception: "Lost time is never found again" - Benjamin Franklin',form:d.a.createElement(h.a,null,d.a.createElement(f.a,null,d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Item Name")),d.a.createElement(h.a.Control,{type:"text",ref:"item_name",placeholder:"..."})),d.a.createElement(f.a,null,d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Location Found")),d.a.createElement(h.a.Control,{type:"text",ref:"location_found",placeholder:"..."})),d.a.createElement("input",{type:"datetime-local"}),d.a.createElement("input",{type:"file",onChange:this.handleImageUpload,accept:"image/gif, image/jpeg, image/png"}),null!==this.state.fileURL&&d.a.createElement("img",{src:this.state.fileURL,alt:"",className:"uploadPreview"}),d.a.createElement("p",null,this.state.errMsg),d.a.createElement(p.a,{className:"bottomRow"},d.a.createElement(E.a,{xs:12,sm:12,md:3,lg:3,xl:3},d.a.createElement(g.a,{className:"btn-submit",variant:"success",onClick:this.handleSubmit},"Add Listing"))))})}}]),a}(d.a.Component);t.a=k}).call(this,a(17))},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),c=a(80);function s(){var e="";return c.hash("Alohomora6ta",10,(function(t,a){console.log(a),e=a})),r.a.createElement("p",null,e)}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},201:function(e,t,a){"use strict";var n=a(14),r=a(15),c=a(19),s=a(18),o=a(20),l=a(0),i=a.n(l),m=a(23),u=(a(300),a(79)),d=a(95),h=a(30);a(301);var f=function(){var e=i.a.useState(0),t=Object(u.a)(e,2),a=t[0],n=t[1],r=i.a.useState(null),c=Object(u.a)(r,2),s=c[0],o=c[1];return i.a.createElement(d.a,{activeIndex:a,direction:s,onSelect:function(e,t){n(e),o(t.direction)}},i.a.createElement(d.a.Item,null,i.a.createElement(h.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner1.png",fluid:!0})),i.a.createElement(d.a.Item,null,i.a.createElement(h.a,{className:"carouselImg",src:"https://elasticbeanstalk-us-east-2-875968549276.s3.us-east-2.amazonaws.com/banner_2.png",fluid:!0})))},p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={exampleAPICallData:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://h1xqnteg60.execute-api.us-east-2.amazonaws.com/SelectProd?table=Textbooks&field=book_author",{method:"GET",headers:{"x-api-key":"dKEhYInqF09xERGUZcQQ3aCKELroAbsk1vVZLhb3"}}).then((function(e){return e.json()})).then((function(t){e.setState({exampleAPICallData:t})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},i.a.createElement(f,{id:"slideshow"}),i.a.createElement("div",{className:"text-center"},i.a.createElement("a",{href:"/signin"},i.a.createElement(m.a,{variant:"success"},"Sign In")),i.a.createElement("a",{href:"/createaccount"},i.a.createElement(m.a,{variant:"secondary"},"Create Account"))),i.a.createElement("div",{className:"text-center"},i.a.createElement("a",{href:"/categories"},"Continue as guest")))}}]),t}(i.a.Component);t.a=p},202:function(e,t,a){e.exports=a(203)},203:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(33),c=a.n(r),s=(a(208),a(175)),o=a(199),l=a(54);e.backendURL="http://campus-share-backend.us-east-2.elasticbeanstalk.com",e.thisURL="http://localhost:3000",e.selectAPI="https://h1xqnteg60.execute-api.us-east-2.amazonaws.com/SelectProd?",e.deleteAPI="https://a2cisw63pb.execute-api.us-east-2.amazonaws.com/Prod?",e.insertAPI="https://00tyqs4c74.execute-api.us-east-2.amazonaws.com/Prod?",e.updateAPI="https://qa1gniaexi.execute-api.us-east-2.amazonaws.com/Prod?",c.a.render(n.a.createElement(l.a,null,n.a.createElement(s.a,null)),document.getElementById("root")),o.a()}.call(this,a(17))},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},213:function(e,t,a){e.exports=a.p+"static/media/campushare_logo.2ea92f96.png"},216:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/bell.a2e70fa6.png"},218:function(e,t,a){},219:function(e,t,a){e.exports=a.p+"static/media/AboutUs.e21e8f56.png"},220:function(e,t,a){},221:function(e,t,a){},225:function(e,t){},227:function(e,t){},257:function(e,t){},258:function(e,t){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},306:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(124),p=a(8),E=a(23),g=a(167),b=a(80),v=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).getSecret=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.selectAPI,"table=Users&field=*&condition=email='").concat(n.state.userEmail,"'"),{method:"GET",headers:{"Access-Control-Allow-Origin":!0,"x-api-key":e.APIkey}}).then((function(e){return e.json()})).then((function(e){return n.setState({secret:e[0].resetPasswordSecret,hashedPassword:e[0].password})})).catch((function(e){return n.setState({serverErrorMsg:e.text})}));case 2:case"end":return t.stop()}}),t)}))),n.validate=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.hashedPassword===n.state.secret.slice(0,n.state.hashedPassword.length))try{g.decode(n.state.token,n.state.secret)===n.state.userEmail?n.setState({validated:!0}):n.setState({showError:!0})}catch(t){n.setState({showError:!0})}else n.setState({showError:!0});case 1:case"end":return e.stop()}}),e)}))),n.savePassword=function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.hash(a,8,function(){var t=Object(c.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"UPDATE Users SET password='".concat(n,"' WHERE email='").concat(e.customAuth.email)})}).then((function(e){return e.json().then(console.log(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.handleSubmit=function(){var e=n.refs.newPassword.value;console.log(e),0===e.length?alert("no password"):(n.savePassword(n.refs.newPassword.value),alert("password saved successfully!"),setTimeout(5e3),n.setState({validated:!0}))},n.savePassword=n.savePassword.bind(Object(m.a)(n)),n.state={userEmail:"",hashedPassword:"",secret:"",token:"",validated:!1,passwordSaved:!1,serverErrorMsg:"",showError:!1},n.validate=n.validate.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=window.location.href.split("/"),t=e[4],a=e[5];this.setState({userEmail:t,token:a})}},{key:"componentDidMount",value:function(){this.getSecret(),this.validate()}},{key:"render",value:function(){return h.a.createElement(d.Fragment,null,!1===this.state.validated?!1===this.state.showError?h.a.createElement(f.a,{animation:"border",role:"status"},h.a.createElement("span",{className:"sr-only"},"Loading...")):h.a.createElement(d.Fragment,null,h.a.createElement("p",null,"This link is not valid. Please request a new password reset link:"),h.a.createElement("a",{href:"/recoverpassword"},"Request New Link")):h.a.createElement(p.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},h.a.createElement(p.a.Group,{controlId:"newPassword"},h.a.createElement(p.a.Label,null,"New Password"),h.a.createElement(p.a.Control,{required:!0,type:"password",ref:"newPassword",placeholder:"Password"}),h.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Please enter a password.")),h.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit")))}}]),a}(h.a.Component);t.a=v}).call(this,a(17))},93:function(e,t,a){"use strict";(function(e){var n=a(5),r=a.n(n),c=a(7),s=a(14),o=a(15),l=a(19),i=a(18),m=a(12),u=a(20),d=a(0),h=a.n(d),f=a(22),p=a(9),E=a(23),g=a(36),b=a(35),v=(a(86),function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(i.a)(a).call(this,t))).componentDidMount=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.fetchItems();case 1:case"end":return e.stop()}}),e)}))),n.handleModalClose=function(){n.setState({showModal:!1})},n.handleModalShow=function(){n.setState({showModal:!0})},n.handleConfirmDeleteClose=function(){n.setState({showConfirmDelete:!1})},n.handleConfirmDeleteShow=function(){n.setState({showConfirmDelete:!0})},n.handleSubmit=function(){},n.fetchItems=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"SELECT * FROM ".concat(n.props.tableName)})}).then((function(e){return e.json()})).then((function(e){return n.setState({items:e.data})}));case 2:case"end":return t.stop()}}),t)}))),n.requestItem=function(){var t=Object(c.a)(r.a.mark((function t(a,c,s,o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.backendURL,"/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'INSERT INTO Notifications (requester_email, offerer_email, item_id, source_table) VALUES ("'.concat(a,'", "').concat(c,'", "').concat(s,'", "').concat(o,'");')})}).then((function(e){return e.json()})).then((function(e){return n.setState({items:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),n.deleteItem=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TODO: Delete item with call to backend");case 1:case"end":return e.stop()}}),e)}))),n.state={items:[],showModal:!1,showConfirmDelete:!1},n.fetchItems=n.fetchItems.bind(Object(m.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(m.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(m.a)(n)),n.handleConfirmDeleteShow=n.handleConfirmDeleteShow.bind(Object(m.a)(n)),n.handleConfirmDeleteClose=n.handleConfirmDeleteClose.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.deleteItem=n.deleteItem.bind(Object(m.a)(n)),n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return h.a.createElement(d.Fragment,null,h.a.createElement(f.a,null,h.a.createElement(p.a,{xs:8,sm:8,md:10,lg:10,xl:10},h.a.createElement("h1",{className:"categoryName"},this.props.categoryName)),h.a.createElement(p.a,{className:"justify-content-md-end"},e.customAuth.isAuthenticated&&h.a.createElement(E.a,{onClick:this.handleModalShow},"Add Listing"))),h.a.createElement("p",{className:"categoryDesc"},this.props.categoryDesc),h.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose,centered:!0,size:"lg"},h.a.createElement(g.a.Header,{closeButton:!0},h.a.createElement(g.a.Title,null,"Add a new listing to the ",this.props.categoryName," Category")),h.a.createElement(g.a.Body,null,this.props.form)),h.a.createElement(b.c,null,h.a.createElement(f.a,{className:"mdbpopoeverRow"},this.props.cards)))}}]),a}(h.a.Component));t.a=v}).call(this,a(17))}},[[202,1,2]]]);
//# sourceMappingURL=main.44f21b88.chunk.js.map